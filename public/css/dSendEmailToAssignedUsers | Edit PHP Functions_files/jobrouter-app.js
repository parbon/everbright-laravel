!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if(void 0===g||void 0===g[e])return a(e);var t=g[e];return t===w?void 0:t}function a(e){switch(e){case"Commands":return s(b);case"Core":return s(p);case"JobRouterException":return y.JobRouterException;case"JobRouterExceptionHandler":return y.JobRouterExceptionHandler;case"InitializeAspect":return y.InitializeAspect;case"Dashboard":return v.Dashboard;case"App":return m}}function _(e,t){return"object"!==("undefined"==typeof e?"undefined":d(e))?(void 0===t?g[e]=w:g[e]=t,function(){c(e)}):void Object.keys(e).forEach(function(t){g[t]=e[t]})}function c(e){delete g[e]}function u(e){function t(){n.forEach(function(e){g[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=g[t],g[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).filter(function(e){return"__get__"!==e&&"__set__"!==e&&"__reset__"!==e&&"__with__"!==e&&"__GetDependency__"!==e&&"__Rewire__"!==e&&"__ResetDependency__"!==e&&"__RewireAPI__"!==e});return t.reduce(function(t,n){return t[n]=e[n],t},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(1),p=o(f),y=n(6);n(10),n(12);var v=n(18),h=n(29),b=o(h),m=function(){function e(){i(this,e)}return l(e,[{key:"start",value:function(){for(var e in r("Commands"))if(r("Commands").hasOwnProperty(e)){var t=r("Commands")[e];if(t.ShouldBeInitializedAtStart()){var n=new t;n.initialize()}}}}]),e}();window.$JR_APP={CORE:r("Core")},jQuery.mCustomScrollbar.defaults.theme="minimal",window.JobRouterException=r("JobRouterException"),window.JobRouterExceptionHandler=r("JobRouterExceptionHandler"),window.initAspect=r("InitializeAspect"),window.Dashboard=r("Dashboard"),"undefined"==typeof window.$JRApp&&(window.$JRApp=new(r("App")));var g=Object.create(null),w="__INTENTIONAL_UNDEFINED__",j={};!function(){function e(e,t){Object.defineProperty(j,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",r),e("__GetDependency__",r),e("__Rewire__",_),e("__set__",_),e("__reset__",c),e("__ResetDependency__",c),e("__with__",u)}(),t.__get__=r,t.__GetDependency__=r,t.__Rewire__=_,t.__set__=_,t.__ResetDependency__=c,t.__RewireAPI__=j,t.default=j},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Notification=void 0;var i=n(2),r=o(i);t.Notification=r.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if(void 0===v||void 0===v[e])return a(e);var t=v[e];return t===h?void 0:t}function a(e){switch(e){case"$":return p.default;case"Notification":return y}}function _(e,t){return"object"!==("undefined"==typeof e?"undefined":d(e))?(void 0===t?v[e]=h:v[e]=t,function(){c(e)}):void Object.keys(e).forEach(function(t){v[t]=e[t]})}function c(e){delete v[e]}function u(e){function t(){n.forEach(function(e){v[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=v[t],v[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function s(e,t){Object.defineProperty(y,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(3),p=o(f),y=function(){function e(){var t=this;i(this,e),this._timeoutHandlers=[];var n=r("$")("html");n.on("click","#jr-notification-close-all",function(){r("$")("#jr-notifications").find(".jr-notification-close").trigger("click")}),n.on("mouseover","#jr-notifications",function(){t._timeoutHandlers.forEach(window.clearTimeout),t._timeoutHandlers=[]}),n.on("mouseout","#jr-notifications",function(){var e=r("$")("#jr-notifications").find(".jr-notification");e.each(function(e,n){var o=r("$")(n),i=o.data("timeout");i&&t._timeoutHandlers.push(window.setTimeout(function(){t._removeElement(o,r("Notification").DEFAULT_FADEOUT_MILLISECONDS)},1e3*i))})})}return l(e,null,[{key:"ALLOWED_LEVELS",get:function(){return["info","success","warn","error","step-abort","step-answer","step-assign","step-back","step-request","step-resubmission"]}},{key:"DEFAULT_LEVEL",get:function(){return"info"}},{key:"MINOR_LEVELS",get:function(){return["info","success"]}},{key:"DEFAULT_FADEOUT_MILLISECONDS",get:function(){return this._DEFAULT_FADEOUT_MILLISECONDS},set:function(e){this._DEFAULT_FADEOUT_MILLISECONDS=e}},{key:"DEFAULT_TIMEOUT_IN_SECONDS",get:function(){return 5}}]),l(e,[{key:"_changeContainerProperties",value:function(){var e=r("$")("#jr-notifications");1===e.find(".jr-notification").length?e.find(".jr-notification-header").children().hide():e.find(".jr-notification-header").children().show(),repositionNotifications()}},{key:"_removeElement",value:function(e,t){var n=this,o=r("$")("#jr-notifications");e.fadeOut(t,function(){return e.remove(),0===o.find(".jr-notification").length?void o.hide():void n._changeContainerProperties()})}},{key:"show",value:function(e,t,n,o){var i=this,a=r("$")("#jr-notifications"),_=o||null;t=t||r("Notification").DEFAULT_LEVEL,r("Notification").ALLOWED_LEVELS.indexOf(t)===-1&&(t=r("Notification").DEFAULT_LEVEL),n=isNaN(n)?null:Math.abs(+n),null===n&&r("Notification").MINOR_LEVELS.indexOf(t)!==-1&&(n=r("Notification").DEFAULT_TIMEOUT_IN_SECONDS);var c=e;Array.isArray(e)&&(c=e.join("<br>"));var u='<div class="jr-notification jr-notification-'+t+' clearfix">';u+='<div class="jr-notification-sidebar">',_&&(u+='<img src="'+_+'" alt="" class="jr-notification-sidebar-image">'),u+='<i class="jr-icon-notification-'+t+'"></i>',u+="</div>",u+='<div class="jr-notification-message">',u+=c,u+="</div>",u+='<i class="jr-icon-notification-close jr-notification-close" title="'+$JR_JS_CONSTANTS.CONST_CLOSE_NOTIFICATION+'"></i>',u+="</div>";var s=r("$")(u);s.one("click",".jr-notification-close",function(){i._removeElement(s,r("Notification").DEFAULT_FADEOUT_MILLISECONDS)}),a.find(".jr-notifications-inner").append(s),this._changeContainerProperties(),a.show(),n&&(this._timeoutHandlers.push(window.setTimeout(function(){i._removeElement(s,r("Notification").DEFAULT_FADEOUT_MILLISECONDS)},1e3*n)),s.data("timeout",n))}},{key:"removeAll",value:function(){var e=r("$")("#jr-notifications");e.find(".jr-notification").remove(),e.hide()}}]),e}();t.default=y,r("Notification").DEFAULT_FADEOUT_MILLISECONDS=400;var v=Object.create(null),h="__INTENTIONAL_UNDEFINED__",b={};!function(){function e(e,t){Object.defineProperty(b,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",r),e("__GetDependency__",r),e("__Rewire__",_),e("__set__",_),e("__reset__",c),e("__ResetDependency__",c),e("__with__",u)}();var m="undefined"==typeof y?"undefined":d(y);"object"!==m&&"function"!==m||!Object.isExtensible(y)||(s("__get__",r),s("__GetDependency__",r),s("__Rewire__",_),s("__set__",_),s("__reset__",c),s("__ResetDependency__",c),s("__with__",u),s("__RewireAPI__",b)),t.__get__=r,t.__GetDependency__=r,t.__Rewire__=_,t.__set__=_,t.__ResetDependency__=c,t.__RewireAPI__=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(4),n(5);var o=window.jQuery;t.default=o},function(e,t){"use strict";function n(e){if(void 0===s||void 0===s[e])return o(e);var t=s[e];return t===d?void 0:t}function o(e){switch(e){case"$":return u}}function i(e,t){return"object"!==("undefined"==typeof e?"undefined":c(e))?(void 0===t?s[e]=d:s[e]=t,function(){r(e)}):void Object.keys(e).forEach(function(t){s[t]=e[t]})}function r(e){delete s[e]}function a(e){function t(){n.forEach(function(e){s[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=s[t],s[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function _(t,n){Object.defineProperty(e.exports,t,{value:n,enumerable:!1,configurable:!0})}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=window.jQuery;n("$").fn.jrAriaExpandedSet=function(e){return this.each(function(){n("$")(this).attr("aria-expanded",e)})},n("$").fn.jrAriaExpandedToggle=function(){return this.each(function(){var e=n("$")(this),t="false";"false"===e.attr("aria-expanded")&&(t="true"),e.attr("aria-expanded",t)})};var s=Object.create(null),d="__INTENTIONAL_UNDEFINED__",l={};!function(){function e(e,t){Object.defineProperty(l,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",n),e("__GetDependency__",n),e("__Rewire__",i),e("__set__",i),e("__reset__",r),e("__ResetDependency__",r),e("__with__",a)}();var f=c(e.exports);"object"!==f&&"function"!==f||!Object.isExtensible(e.exports)||(_("__get__",n),_("__GetDependency__",n),_("__Rewire__",i),_("__set__",i),_("__reset__",r),_("__ResetDependency__",r),_("__with__",a),_("__RewireAPI__",l))},function(e,t){"use strict";function n(e){if(void 0===s||void 0===s[e])return o(e);var t=s[e];return t===d?void 0:t}function o(e){switch(e){case"$":return u}}function i(e,t){return"object"!==("undefined"==typeof e?"undefined":c(e))?(void 0===t?s[e]=d:s[e]=t,function(){r(e)}):void Object.keys(e).forEach(function(t){s[t]=e[t]})}function r(e){delete s[e]}function a(e){function t(){n.forEach(function(e){s[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=s[t],s[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function _(t,n){Object.defineProperty(e.exports,t,{value:n,enumerable:!1,configurable:!0})}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=window.jQuery;n("$").fn.jrMenuListShow=function(){return this.each(function(){n("$")(this).attr("aria-expanded","true").show()})},n("$").fn.jrMenuListHide=function(){return this.each(function(){n("$")(this).attr("aria-expanded","false").hide()})},n("$").fn.jrMenuListToggle=function(){return this.each(function(){var e=n("$")(this);return e.is(":visible")?e.jrMenuListHide():e.jrMenuListShow()})};var s=Object.create(null),d="__INTENTIONAL_UNDEFINED__",l={};!function(){function e(e,t){Object.defineProperty(l,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",n),e("__GetDependency__",n),e("__Rewire__",i),e("__set__",i),e("__reset__",r),e("__ResetDependency__",r),e("__with__",a)}();var f=c(e.exports);"object"!==f&&"function"!==f||!Object.isExtensible(e.exports)||(_("__get__",n),_("__GetDependency__",n),_("__Rewire__",i),_("__set__",i),_("__reset__",r),_("__ResetDependency__",r),_("__with__",a),_("__RewireAPI__",l))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.InitializeAspect=t.JobRouterExceptionHandler=t.JobRouterException=void 0;var i=n(7),r=o(i),a=n(8),_=o(a),c=n(9),u=o(c);t.JobRouterException=r.default,t.JobRouterExceptionHandler=_.default,t.InitializeAspect=u.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e){function t(e,i){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._name="JobRouterException",r.customHandler=i||null,r}return i(t,e),r(t,[{key:"name",get:function(){return this._name}}]),t}(Error);t.default=a},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(void 0===p||void 0===p[e])return r(e);var t=p[e];return t===y?void 0:t}function r(e){switch(e){case"Notification":return l.default}}function a(e,t){return"object"!==("undefined"==typeof e?"undefined":s(e))?(void 0===t?p[e]=y:p[e]=t,function(){_(e)}):void Object.keys(e).forEach(function(t){p[t]=e[t]})}function _(e){delete p[e]}function c(e){function t(){n.forEach(function(e){p[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=p[t],p[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function u(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n(2),l=o(d),f=function(e){var t=e.customHandler;return console.error(e),Object.isFunction(t)?void t.apply(null,[e.message]):void(new(i("Notification"))).show(e.message,"error")};t.default=f;var p=Object.create(null),y="__INTENTIONAL_UNDEFINED__",v={};!function(){function e(e,t){Object.defineProperty(v,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",i),e("__GetDependency__",i),e("__Rewire__",a),e("__set__",a),e("__reset__",_),e("__ResetDependency__",_),e("__with__",c)}();var h="undefined"==typeof f?"undefined":s(f);"object"!==h&&"function"!==h||!Object.isExtensible(f)||(u("__get__",i),u("__GetDependency__",i),u("__Rewire__",a),u("__set__",a),u("__reset__",_),u("__ResetDependency__",_),u("__with__",c),u("__RewireAPI__",v)),t.__get__=i,t.__GetDependency__=i,t.__Rewire__=a,t.__set__=a,t.__ResetDependency__=_,t.__RewireAPI__=v},function(e,t){"use strict";function n(e){if(void 0===d||void 0===d[e])return o(e);var t=d[e];return t===l?void 0:t}function o(e){switch(e){case"jobrouterAspects":return u}}function i(e,t){return"object"!==("undefined"==typeof e?"undefined":c(e))?(void 0===t?d[e]=l:d[e]=t,function(){r(e)}):void Object.keys(e).forEach(function(t){d[t]=e[t]})}function r(e){delete d[e]}function a(e){function t(){n.forEach(function(e){d[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=d[t],d[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function _(e,t){Object.defineProperty(s,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u={before:new jsAspect.Advice.Before(function(e){console.time("methodExecution: "+e.method.name)}),after:new jsAspect.Advice.After(function(e){console.timeEnd("methodExecution: "+e.method.name)}),around:new jsAspect.Advice.Around(function(e,t){try{return t.apply(null,e.method.arguments)}catch(e){JobRouterExceptionHandler(e)}}),afterThrowing:new jsAspect.Advice.AfterThrowing(function(e,t){JobRouterExceptionHandler(t)})},s=function(){var e=new jsAspect.Aspect([n("jobrouterAspects").afterThrowing,n("jobrouterAspects").around]);e.withPointcut(jsAspect.SCOPE.METHODS).withRegex("jr_.*").applyTo(window)};t.default=s;var d=Object.create(null),l="__INTENTIONAL_UNDEFINED__",f={};!function(){function e(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",n),e("__GetDependency__",n),e("__Rewire__",i),e("__set__",i),e("__reset__",r),e("__ResetDependency__",r),e("__with__",a)}();var p="undefined"==typeof s?"undefined":c(s);"object"!==p&&"function"!==p||!Object.isExtensible(s)||(_("__get__",n),_("__GetDependency__",n),_("__Rewire__",i),_("__set__",i),_("__reset__",r),_("__ResetDependency__",r),_("__with__",a),_("__RewireAPI__",f)),t.__get__=n,t.__GetDependency__=n,t.__Rewire__=i,t.__set__=i,t.__ResetDependency__=r,t.__RewireAPI__=f},function(e,t,n){"use strict";n(3),n(11)},function(e,t){"use strict";String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.capitalizeFirstLetterAndDowncaseOthers=function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()}},function(e,t,n){"use strict";n(13),n(14),n(15),n(16),n(17)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(void 0===y||void 0===y[e])return r(e);var t=y[e];return t===v?void 0:t}function r(e){switch(e){case"$":return d.default;case"consoleTriggerSelector":return f;case"consoleSelector":return l;case"addClickHandler":return p}}function a(e,t){return"object"!==("undefined"==typeof e?"undefined":u(e))?(void 0===t?y[e]=v:y[e]=t,function(){_(e)}):void Object.keys(e).forEach(function(t){y[t]=e[t]})}function _(e){delete y[e]}function c(e){function t(){n.forEach(function(e){y[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=y[t],y[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(3),d=o(s),l="#jr-console",f="#jr-console-trigger",p=function(){var e=i("$")(i("consoleTriggerSelector"));e.on("click",function(){i("$")(i("consoleSelector")).toggle(),e.toggleClass("active")})};window.addEventListener("load",i("addClickHandler"));var y=Object.create(null),v="__INTENTIONAL_UNDEFINED__",h={};!function(){function e(e,t){Object.defineProperty(h,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",i),e("__GetDependency__",i),e("__Rewire__",a),e("__set__",a),e("__reset__",_),e("__ResetDependency__",_),e("__with__",c)}(),t.__get__=i,t.__GetDependency__=i,t.__Rewire__=a,t.__set__=a,t.__ResetDependency__=_,t.__RewireAPI__=h,t.default=h},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){l("$list").jrMenuListToggle(),l("$")(this).toggleClass("active")}function r(){0!==l("$menu").length&&l("$menu").on("click",function(e){e.preventDefault(),l("toggleLayerVisibility").apply(this)})}function a(){l("$")(document).on("click",function(e){if(l("$list").is(":visible")&&!l("disableClosingOnScrolling")){var t=l("$")(e.target);t.closest(l("listSelector")).length>0&&0===t.closest(l("linkSelector")).length||t.closest(l("menuSelector")).length>0||t.hasClass("jr-favorites-list-delete-icon")||l("toggleLayerVisibility").apply(l("$menu")[0])}})}function _(e){if(e.preventDefault(),!l("isInRequest")){var t="index.php?cmd=Ajax_ToggleFavorite",n=l("$")(this),o=n.data("commandParameters");p("isInRequest",!0),l("toggleFavoriteIcon")(n,o.isFavorite?0:1),l("$toggler").addClass("jr-favorite-headline-inactive"),l("$").ajax({type:"POST",url:t,data:{params:o},dataType:"json"}).fail(function(e){$JR.NOTIFICATION.show($JR_JS_CONSTANTS.CONST_ERROR_OCCURRED,"error"),l("toggleFavoriteIcon")(n,e.responseJSON.isFavorite?0:1)}).done(function(e){o.isFavorite="1"===e.isFavorite?0:1,n.data("commandParameters",o),l("$list").mCustomScrollbar("destroy"),l("$list").html(e.newFavoriteList),l("$list").mCustomScrollbar()}).always(function(){l("$toggler").removeClass("jr-favorite-headline-inactive"),p("isInRequest",!1)})}}function c(e,t){return t?(e.children().removeClass("jr-icon-star-outline"),void e.children().addClass("jr-icon-star")):(e.children().removeClass("jr-icon-star"),void e.children().addClass("jr-icon-star-outline"))}function u(){l("$list").on("keydown",function(e){27==e.keyCode&&l("toggleLayerVisibility").apply(l("$menu")[0])})}function s(){l("$list").find(".mCSB_dragger").on("mousedown",function(){p("disableClosingOnScrolling",!0),l("$")("body").one("mouseup",function(){window.setTimeout(function(){p("disableClosingOnScrolling",!1)},0)})})}function d(){p("$menu",l("$")(l("menuSelector"))),p("$list",l("$")(l("listSelector"))),p("$toggler",l("$")(".jr-favorite-toggler")),l("addClickHandlerForClickOnMenuItem")(),l("addClickHandlerForClickingSomewhereElse")(),l("addKeyDownHandlerForEsc")(),l("$list").mCustomScrollbar(),l("addHandlerForCustomScrollbar")(),l("$toggler").on("click",l("handleFavoriteToggle"))}function l(e){if(void 0===k||void 0===k[e])return f(e);var t=k[e];return t===A?void 0:t}function f(e){switch(e){case"$list":return E;case"$":return w.default;case"$menu":return S;case"toggleLayerVisibility":return i;case"disableClosingOnScrolling":return C;case"listSelector":return D;case"linkSelector":return O;case"menuSelector":return j;case"isInRequest":return $;case"toggleFavoriteIcon":return c;case"$toggler":return R;case"addClickHandlerForClickOnMenuItem":return r;case"addClickHandlerForClickingSomewhereElse":return a;case"addKeyDownHandlerForEsc":return u;case"addHandlerForCustomScrollbar":return s;case"handleFavoriteToggle":return _;case"initialize":return d}}function p(e,t){return void 0===k||void 0===k[e]?y(e,t):k[e]=t}function y(e,t){switch(e){case"isInRequest":return $=t;case"disableClosingOnScrolling":return C=t;case"$menu":return S=t;case"$list":return E=t;case"$toggler":return R=t}}function v(e,t){return"object"!==("undefined"==typeof e?"undefined":m(e))?(void 0===t?k[e]=A:k[e]=t,function(){h(e)}):void Object.keys(e).forEach(function(t){k[t]=e[t]})}function h(e){delete k[e]}function b(e){function t(){n.forEach(function(e){k[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=k[t],k[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=n(3),w=o(g),j="#jr-favorites-menu",D="#jr-favorites-list",O=".jr-favorites-list-link",S=void 0,E=void 0,R=void 0,$=!1,C=!1;window.deleteFavoriteEntry=function(e,t){var n="index.php?cmd=Ajax&cmd_target=deleteFavorite",o=jQuery("#jr-favorite-toggler"),i=o.data("commandParameters"),r=t.closest("li"),a=jQuery(getSpinner()).addClass("jr-spinner-favorites");r.find(".jr-favorites-list-delete-link").hide(),r.append(a),l("$").ajax({type:"POST",url:n,data:{params:e,currentCommandParameters:i},dataType:"json"}).fail(function(){$JR.NOTIFICATION.show($JR_JS_CONSTANTS.CONST_ERROR_OCCURRED,"error"),r.find(".jr-spinner-favorites").remove(),r.find(".jr-favorites-list-delete-link").show()}).done(function(e){l("$list").mCustomScrollbar("destroy"),l("$list").html(e.newFavoriteList),l("$list").mCustomScrollbar(),e.toggleCurrentCommand&&(l("toggleFavoriteIcon")(o,0),i.isFavorite=0,o.data("commandParameters",i))})},window.addEventListener("load",l("initialize"));var k=Object.create(null),A="__INTENTIONAL_UNDEFINED__",I={};!function(){function e(e,t){Object.defineProperty(I,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",l),e("__GetDependency__",l),e("__Rewire__",v),e("__set__",v),e("__reset__",h),e("__ResetDependency__",h),e("__with__",b)}(),t.__get__=l,t.__GetDependency__=l,t.__Rewire__=v,t.__set__=v,t.__ResetDependency__=h,t.__RewireAPI__=I,t.default=I},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){l("$headerMenu").on("click",function(e){e.preventDefault(),l("toggleNavMain")(),l("updateToggledNavigation")()})}function r(){var e=l("$")("body");return e.hasClass(l("bodyExtendedClass"))?(e.removeClass(l("bodyExtendedClass")),e.addClass(l("bodyCollapsedClass")),l("$nav").find(l("subNavSelector")).jrAriaExpandedSet("false"),void l("$")(l("subNavSelector")).mCustomScrollbar()):(e.removeClass(l("bodyCollapsedClass")),e.addClass(l("bodyExtendedClass")),void l("$nav").find(l("itemSelectorLevel1")+".has-open-children").find(l("subNavSelector")).jrAriaExpandedSet("true"))}function a(){var e="jr-nav-main";l("$")("body").hasClass("cmd-in-designer")&&(e="jr-nav-main-designer"),new Ajax.Request("index.php",{method:"post",parameters:{cmd:"Ajax_ToggleNavigationItem",itemId:e}})}function _(){l("$nav").on("click",".jr-nav-main-link-level1.has-children",function(e){if(e.preventDefault(),!l("$")("body").hasClass(l("bodyCollapsedClass"))){var t=l("$")(e.target).closest(".jr-nav-main-link-level1").next(".jr-nav-main-sub"),n=t.attr("id").replace("jr-nav-main-sub-","");t.jrAriaExpandedToggle(),t.closest(l("itemSelectorLevel1")).toggleClass("has-open-children"),new Ajax.Request("index.php",{method:"post",parameters:{cmd:"Ajax_ToggleNavigationItem",itemId:n}})}})}function c(e){if(!l("$")("body").hasClass(l("bodyExtendedClass"))){var t=l("$")(e),n=t.find(".jr-nav-main-link-level1");if(n.hasClass("has-children")){n.toggleClass("active");var o=n.next(l("subNavSelector"));o.jrAriaExpandedToggle().toggleClass("is-hovered")}}}function u(){l("$nav").on("mouseenter",function(e){e.preventDefault(),l("$")("body").hasClass(l("bodyExtendedClass"))||(l("$nav").addClass("is-hovered"),l("$")(":focus").blur())}),l("$nav").on("mouseleave",function(e){e.preventDefault(),l("$")("body").hasClass(l("bodyExtendedClass"))||l("$nav").hasClass("is-hovered")&&(l("$nav").removeClass("is-hovered"),l("$")("#jr-nav-main").find("ul").first().mouseleave())})}function s(){l("$")("footer").length||l("$")("body").addClass("jr-nav-main-without-footer")}function d(){if(p("$nav",l("$")("#jr-nav-main")),p("$headerMenu",l("$")("#jr-header-nav-main-menu")),0!==l("$nav").length){var e=l("$nav").find("ul").first();e.menuAim({activate:l("toggleHoverNav"),deactivate:l("toggleHoverNav"),exitMenu:function(){return!l("$nav").hasClass("is-hovered")}}),l("$nav").mCustomScrollbar(),l("$")("body").hasClass(l("bodyCollapsedClass"))&&l("$")(l("subNavSelector")).mCustomScrollbar(),l("addHoverClassHandler")(),l("addClickHandlerForWideMenu")(),l("addClickHandlerForLinkInExtendedMenu")(),l("addViewWithoutFooterHandler")(),l("$nav").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){resizeContent()})}}function l(e){if(void 0===$||void 0===$[e])return f(e);var t=$[e];return t===C?void 0:t}function f(e){switch(e){case"$headerMenu":return R;case"toggleNavMain":return r;case"updateToggledNavigation":return a;case"$":return w.default;case"bodyExtendedClass":return D;case"bodyCollapsedClass":return j;case"$nav":return E;case"subNavSelector":return O;case"itemSelectorLevel1":return S;case"toggleHoverNav":return c;case"addHoverClassHandler":return u;case"addClickHandlerForWideMenu":return i;case"addClickHandlerForLinkInExtendedMenu":return _;case"addViewWithoutFooterHandler":return s;case"initialize":return d}}function p(e,t){return void 0===$||void 0===$[e]?y(e,t):$[e]=t}function y(e,t){switch(e){case"$nav":return E=t;case"$headerMenu":return R=t}}function v(e,t){return"object"!==("undefined"==typeof e?"undefined":m(e))?(void 0===t?$[e]=C:$[e]=t,function(){h(e)}):void Object.keys(e).forEach(function(t){$[t]=e[t]})}function h(e){delete $[e]}function b(e){function t(){n.forEach(function(e){$[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=$[t],$[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=n(3),w=o(g),j="jr-nav-main-collapsed",D="jr-nav-main-extended",O=".jr-nav-main-sub",S=".jr-nav-main-item",E=void 0,R=void 0;window.addEventListener("load",l("initialize"));var $=Object.create(null),C="__INTENTIONAL_UNDEFINED__",k={};!function(){function e(e,t){Object.defineProperty(k,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",l),e("__GetDependency__",l),e("__Rewire__",v),e("__set__",v),e("__reset__",h),e("__ResetDependency__",h),e("__with__",b)}(),t.__get__=l,t.__GetDependency__=l,t.__Rewire__=v,t.__set__=v,t.__ResetDependency__=h,t.__RewireAPI__=k,t.default=k},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){e.preventDefault(),c("$userSettingsLink").toggleClass("active"),c("$userSettingsSub").jrMenuListToggle()}function r(){c("$userSettingsSub").on("click","a",function(){c("$userSettingsLink").removeClass("active"),c("$userSettingsSub").jrMenuListHide()})}function a(){c("$")(document).on("click",function(e){c("$userSettingsSub").is(":hidden")||c("$")(e.target).closest(".jr-header-nav-user-settings").length>0||c("$userSettingsLink").trigger("pseudoClickUserSettings")})}function _(){s("$userSettingsLink",c("$")("#jr-header-nav-user-settings-link")),s("$userSettingsSub",c("$")("#jr-header-nav-user-settings-sub")),c("$userSettingsLink").on("click",c("handleClickOnUserMenu")),c("$userSettingsLink").on("pseudoClickUserSettings",c("handleClickOnUserMenu")),c("addClickHandlerForUserMenuLink")(),c("addClickHandlerForClickingSomewhereElse")()}function c(e){if(void 0===g||void 0===g[e])return u(e);var t=g[e];return t===w?void 0:t}function u(e){switch(e){case"$userSettingsLink":return b;case"$userSettingsSub":return m;case"$":return h.default;case"handleClickOnUserMenu":return i;case"addClickHandlerForUserMenuLink":return r;case"addClickHandlerForClickingSomewhereElse":return a;case"initialize":return _}}function s(e,t){return void 0===g||void 0===g[e]?d(e,t):g[e]=t}function d(e,t){switch(e){case"$userSettingsLink":return b=t;case"$userSettingsSub":return m=t}}function l(e,t){return"object"!==("undefined"==typeof e?"undefined":y(e))?(void 0===t?g[e]=w:g[e]=t,function(){f(e)}):void Object.keys(e).forEach(function(t){g[t]=e[t]})}function f(e){delete g[e]}function p(e){function t(){n.forEach(function(e){g[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){
o[t]=g[t],g[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=n(3),h=o(v),b=void 0,m=void 0;window.addEventListener("load",c("initialize"));var g=Object.create(null),w="__INTENTIONAL_UNDEFINED__",j={};!function(){function e(e,t){Object.defineProperty(j,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",c),e("__GetDependency__",c),e("__Rewire__",l),e("__set__",l),e("__reset__",f),e("__ResetDependency__",f),e("__with__",p)}(),t.__get__=c,t.__GetDependency__=c,t.__Rewire__=l,t.__set__=l,t.__ResetDependency__=f,t.__RewireAPI__=j,t.default=j},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){s("$content").jrMenuListToggle(),s("$")(this).toggleClass("active")}function r(){0!==s("$menu").length&&s("$menu").on("click",function(e){e.preventDefault(),s("toggleLayerVisibility").apply(this)})}function a(){s("$")(document).on("click",function(e){if(s("$content").is(":visible")&&!s("disableClosingOnScrolling")){var t=s("$")(e.target);t.closest(s("contentSelector")).length>0&&0===t.closest(s("linkSelector")).length||t.closest(s("menuSelector")).length>0||s("toggleLayerVisibility").apply(s("$menu")[0])}})}function _(){s("$content").on("keydown",function(e){27==e.keyCode&&s("toggleLayerVisibility").apply(s("$menu")[0])})}function c(){s("$content").find(".mCSB_dragger").on("mousedown",function(){l("disableClosingOnScrolling",!0),s("$")("body").one("mouseup",function(){window.setTimeout(function(){l("disableClosingOnScrolling",!1)},100)})})}function u(){l("$menu",s("$")(s("menuSelector"))),l("$content",s("$")("#jr-new-incidents-content")),s("addClickHandlerForClickOnMenuItem")(),s("addClickHandlerForClickingSomewhereElse")(),s("addKeyDownHandlerForEsc")(),s("$content").mCustomScrollbar(),s("addHandlerForCustomScrollbar")()}function s(e){if(void 0===E||void 0===E[e])return d(e);var t=E[e];return t===R?void 0:t}function d(e){switch(e){case"$content":return O;case"$":return m.default;case"$menu":return D;case"toggleLayerVisibility":return i;case"disableClosingOnScrolling":return S;case"contentSelector":return w;case"linkSelector":return j;case"menuSelector":return g;case"addClickHandlerForClickOnMenuItem":return r;case"addClickHandlerForClickingSomewhereElse":return a;case"addKeyDownHandlerForEsc":return _;case"addHandlerForCustomScrollbar":return c;case"initialize":return u}}function l(e,t){return void 0===E||void 0===E[e]?f(e,t):E[e]=t}function f(e,t){switch(e){case"disableClosingOnScrolling":return S=t;case"$menu":return D=t;case"$content":return O=t}}function p(e,t){return"object"!==("undefined"==typeof e?"undefined":h(e))?(void 0===t?E[e]=R:E[e]=t,function(){y(e)}):void Object.keys(e).forEach(function(t){E[t]=e[t]})}function y(e){delete E[e]}function v(e){function t(){n.forEach(function(e){E[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=E[t],E[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=n(3),m=o(b),g="#jr-new-incidents-menu",w="#jr-new-incidents-content",j=".jr-new-incidents-content-item-link",D=void 0,O=void 0,S=!1;window.addEventListener("load",s("initialize"));var E=Object.create(null),R="__INTENTIONAL_UNDEFINED__",$={};!function(){function e(e,t){Object.defineProperty($,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",s),e("__GetDependency__",s),e("__Rewire__",p),e("__set__",p),e("__reset__",y),e("__ResetDependency__",y),e("__with__",v)}(),t.__get__=s,t.__GetDependency__=s,t.__Rewire__=p,t.__set__=p,t.__ResetDependency__=y,t.__RewireAPI__=$,t.default=$},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Dashboard=void 0,n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26);var i=n(27),r=o(i);t.Dashboard=r.default},function(e,t){"use strict";!function(e){function t(t){var o=t.inputField,i=window[t.inputField+"OnSelectDateCallback"],r=t.button,a=e(o.buildJQueryIdSelector()).closest(".jr-datepicker-container"),_=e(r.buildJQueryIdSelector());_.click(function(){a.data("DateTimePicker").toggle()}),t=n(t),a.datetimepicker(t);var c=function(){i&&i(),e(o.buildJQueryIdSelector()).get(0).onchange()};a.on("dp.show",function(){a.on("dp.change",c),a.find("th.cw").html("")}),a.on("dp.hide",function(){a.off("dp.change",c)})}function n(e){return{useCurrent:!1,allowInputToggle:!1,format:a(e.ifFormat),locale:r(e.language),calendarWeeks:!0,ignoreReadonly:!0,tooltips:i(e.language),showTodayButton:!0,icons:o(),keyBinds:{left:"do not remove",right:"do not remove",up:"do not remove",down:"do not remove",t:"do not remove"},debug:e.debug||!1}}function o(){return{time:"jr-icon-clock jr-datepicker-icon",date:"jr-icon-calendar jr-datepicker-icon",up:"jr-icon-chevron-up jr-datepicker-icon",down:"jr-icon-chevron-down jr-datepicker-icon",previous:"jr-icon-chevron-left jr-datepicker-icon",next:"jr-icon-chevron-right jr-datepicker-icon",today:"jr-icon-home jr-datepicker-icon",clear:"jr-icon-delete jr-datepicker-icon",close:"jr-icon-close jr-datepicker-icon"}}function i(){return{today:"",clear:"",close:"",selectMonth:"",prevMonth:"",nextMonth:"",selectYear:"",prevYear:"",nextYear:"",selectDecade:"",prevDecade:"",nextDecade:"",prevCentury:"",nextCentury:"",pickHour:"",incrementHour:"",decrementHour:"",pickMinute:"",incrementMinute:"",decrementMinute:"",pickSecond:"",incrementSecond:"",decrementSecond:"",togglePeriod:"",selectTime:""}}function r(e){var t={chinese:"zh-CN",czech:"cs",dutch:"nl",finnish:"fi",german:"de",hungarian:"hu",italian:"it",japanese:"ja",polish:"pl",slovak:"sk",spanish:"es",turkish:"tr",romanian:"ro"};return t[e]||""}function a(e){var t=e.split(" "),n=_(t[0]),o=c(t[1]);return n+(o?" "+o:"")}function _(e){return"%d.%m.%Y"===e?"DD.MM.YYYY":"%d/%m/%Y"===e?"DD/MM/YYYY":"%m/%d/%Y"===e?"MM/DD/YYYY":"%Y-%m-%d"===e?"YYYY-MM-DD":""}function c(e){return"%H:%M:%S"===e?"HH:mm:00":""}function u(t){return t.jquery||(t=e(t.replace("#","").buildJQueryIdSelector())),t.closest(".jr-datepicker-container")}function s(e){return u(e).data("DateTimePicker")}function d(e,t){var n=u(e),o=n.data("DateTimePicker");return o?o:(n.datetimepicker(t),n.data("DateTimePicker"))}window.Calendar={setup:t,getInstance:s,createInstance:d}}(window.jQuery)},function(e,t){"use strict";function n(){var e='<div class="jr-drag-and-drop-uploaded-files-container hidden">';return e+="<div>"+jr_get_constant_value("CONST_UPLOADED_FILES")+"</div>",e+='<div id="uploaded-file" class="filename"></div>',e+="</div>"}function o(){var e='<div id="dragAndDropZone" class="jr-drag-and-drop-zone">';return e+=jr_get_constant_value("CONST_DRAG_DROP_FILES_HERE"),e+='<input type="file" id="importFile" name="importFile" value="" class="jr-drag-and-drop-file" onChange="updateImportFileName();">',e+="</div>"}function i(e){if(void 0===d||void 0===d[e])return r(e);var t=d[e];return t===l?void 0:t}function r(e){switch(e){case"getDragAndDropZone":return o;case"getUploadedFilesContainer":return n}}function a(e,t){return"object"!==("undefined"==typeof e?"undefined":s(e))?(void 0===t?d[e]=l:d[e]=t,function(){_(e)}):void Object.keys(e).forEach(function(t){d[t]=e[t]})}function _(e){delete d[e]}function c(e){function t(){n.forEach(function(e){d[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=d[t],d[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function u(t,n){Object.defineProperty(e.exports,t,{value:n,enumerable:!1,configurable:!0})}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.getDragAndDropArea=function(){var e='<div class="jr-drag-and-drop-container">';return e+=i("getDragAndDropZone")(),e+="</div>",e+=i("getUploadedFilesContainer")()};var d=Object.create(null),l="__INTENTIONAL_UNDEFINED__",f={};!function(){function e(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",i),e("__GetDependency__",i),e("__Rewire__",a),e("__set__",a),e("__reset__",_),e("__ResetDependency__",_),e("__with__",c)}();var p=s(e.exports);"object"!==p&&"function"!==p||!Object.isExtensible(e.exports)||(u("__get__",i),u("__GetDependency__",i),u("__Rewire__",a),u("__set__",a),u("__reset__",_),u("__ResetDependency__",_),u("__with__",c),u("__RewireAPI__",f))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t='<input type="file" name="'+e+'" id="'+e+'" style="margin:5px 15px;"/>';return t+='<div id="'+e+'-dragAndDropZone" class="dragAndDropZone" style="display:none;">',t+=jr_get_constant_value("CONST_DRAG_DROP_FILES_HERE"),t+="</div>",t+='<div id="'+e+'-dragAndDropZoneLoading" class="dragAndDropZone dragAndDropZoneLoading" style="display:none;">',t+='<img src="images/loading.gif" alt="Loading">',t+="</div>",t+='<div id="'+e+'-uploaded-file" class="dragAndDropFileList uploaded-file" style="display:none;">',t+="<p>"+jr_get_constant_value("CONST_UPLOADED_FILES")+":</p>",t+="<span></span>",t+="</div>"}function r(e){if(void 0===f||void 0===f[e])return a(e);var t=f[e];return t===p?void 0:t}function a(e){switch(e){case"$":return l.default;case"_getDragAndDropZone":return i}}function _(e,t){return"object"!==("undefined"==typeof e?"undefined":s(e))?(void 0===t?f[e]=p:f[e]=t,function(){c(e)}):void Object.keys(e).forEach(function(t){f[t]=e[t]})}function c(e){delete f[e]}function u(e){function t(){n.forEach(function(e){f[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=f[t],f[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n(3),l=o(d);window.getDefaultFileUploadPopupOptions=function(){return{modal:!0,minHeight:400,minWidth:600,close:function(){r("$")(this).dialog("close")},buttons:[{text:jr_get_constant_value("CONST_CLOSE"),click:function(){r("$")(this).dialog("close")}}]}},window.createUploadForm=function(e,t,n,o){var i=$JR.widget.dialog("myForm_"+e,getDefaultFileUploadPopupOptions()),a=r("_getDragAndDropZone")(e);return i.setContent('<div class="panelContainerContentAdmin"><div class="popup-content"><ul id="general-errors" class="general-errors error" style="display: none;"></ul></div><div id="wcvl_1" style="width:100%;" class=" panelContainerContentAdmin "><fieldset id="'+e+'_fieldset" style="padding: 0;" class="formFieldset"><legend>'+jr_get_constant_value("CONST_UPLOAD_FILE")+'</legend><form id="'+e+'_fileUploadForm" action="attachment.php" target="dialog_upload_iframe" method="post" enctype="multipart/form-data"><div id="'+e+'_fileUploadFormError" class="error" style="display:none; margin:5px 15px;"></div><div class="fieldsetContent panelContainerContentAdmin">'+a+'</div><input type="hidden" name="action" value="upload" /><input type="hidden" name="workflowId" value="'+t+'" /><input type="hidden" name="inputField" value="'+e+'" /><input type="hidden" name="minFileSize" value="'+n+'" /><input type="hidden" name="maxFileSize" value="'+o+'" /></form></fieldset></div></div>'),i};var f=Object.create(null),p="__INTENTIONAL_UNDEFINED__",y={};!function(){function e(e,t){Object.defineProperty(y,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",r),e("__GetDependency__",r),e("__Rewire__",_),e("__set__",_),e("__reset__",c),e("__ResetDependency__",c),e("__with__",u)}(),t.__get__=r,t.__GetDependency__=r,t.__Rewire__=_,t.__set__=_,t.__ResetDependency__=c,t.__RewireAPI__=y,t.default=y},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(void 0===l||void 0===l[e])return r(e);var t=l[e];return t===f?void 0:t}function r(e){switch(e){case"$":return d.default}}function a(e,t){return"object"!==("undefined"==typeof e?"undefined":u(e))?(void 0===t?l[e]=f:l[e]=t,function(){_(e)}):void Object.keys(e).forEach(function(t){l[t]=e[t]})}function _(e){delete l[e]}function c(e){function t(){n.forEach(function(e){l[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=l[t],l[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(3),d=o(s);window.updateImportFileName=function(){var e=document.querySelectorAll(".jr-drag-and-drop-file");Array.prototype.forEach.call(e,function(e){var t=i("$")(e).closest(".jr-drag-and-drop-container").siblings(".jr-drag-and-drop-uploaded-files-container"),n=t.find("#uploaded-file")[0],o=e.files[0];return o?(t.removeClass("hidden"),void(n.innerHTML=o.name)):(n.innerHTML="",void t.addClass("hidden"))})};var l=Object.create(null),f="__INTENTIONAL_UNDEFINED__",p={};!function(){function e(e,t){Object.defineProperty(p,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",i),e("__GetDependency__",i),e("__Rewire__",a),e("__set__",a),e("__reset__",_),e("__ResetDependency__",_),e("__with__",c)}(),t.__get__=i,t.__GetDependency__=i,t.__Rewire__=a,t.__set__=a,t.__ResetDependency__=_,t.__RewireAPI__=p,t.default=p},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(void 0===f||void 0===f[e])return r(e);var t=f[e];return t===p?void 0:t}function r(e){switch(e){case"Prototype":return l;case"$":return d.default}}function a(e,t){return"object"!==("undefined"==typeof e?"undefined":u(e))?(void 0===t?f[e]=p:f[e]=t,function(){_(e)}):void Object.keys(e).forEach(function(t){f[t]=e[t]})}function _(e){delete f[e]}function c(e){function t(){n.forEach(function(e){f[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=f[t],f[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(3),d=o(s),l=window.$;window.toggleTranslations=function(e){if(("undefined"==typeof window.translationsStorageType||1!==window.translationsStorageType)&&null!=i("Prototype")(e+"Translation")){var t=i("Prototype")(e+"Translation").childElements(),n=!1;t.each(function(t){t.down().identify()==e||t.down().identify()=="id_"+e?t.hide():(t.show(),n||(i("$")(t).find("input:first").focus(),n=!0))})}},window.hideTranslations=function(e){"undefined"!=typeof window.translationsStorageType&&1===window.translationsStorageType||e.each(function(e){if(null!=i("Prototype")(e+"Translation")){var t=i("Prototype")(e+"Translation").childElements();t.each(function(t){t.down().identify()==e?(t.down().value=getDefaultLanguageValueForAttribute(e),t.show()):t.hide()})}})};var f=Object.create(null),p="__INTENTIONAL_UNDEFINED__",y={};!function(){function e(e,t){Object.defineProperty(y,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",i),e("__GetDependency__",i),e("__Rewire__",a),e("__set__",a),e("__reset__",_),e("__ResetDependency__",_),e("__with__",c)}(),t.__get__=i,t.__GetDependency__=i,t.__Rewire__=a,t.__set__=a,t.__ResetDependency__=_,t.__RewireAPI__=y,t.default=y},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){e.preventDefault();var t=_("$")(this);t.closest(_("tabsSelector")).siblings(_("contentItemsSelector")).find(_("contentItemSelector")+":visible").addClass("hidden"),_("$")(t.attr("href")).show(),_("$")(t.attr("href")).removeClass("hidden");var n=_("$")(".jr-tab-link.active")[0];_("$")(n).attr("id")!=t.attr("id")&&_("$")(n).trigger("jr-tab-blur"),t.hasClass("active")||t.trigger("jr-tab-focus"),t.closest(_("tabsSelector")).find(_("tabSelector")+".active").removeClass("active"),t.addClass("active")}function r(){_("$")("body").on("click",_("tabsSelector")+" "+_("tabSelector"),_("activateClickedTabContent"))}function a(){var e=_("$")("#jr-step-dialog-tabs");if(e.length){var t=e.find(".active").first();_("$")(t.attr("href")).show()}}function _(e){if(void 0===m||void 0===m[e])return c(e);var t=m[e];return t===g?void 0:t}function c(e){switch(e){case"$":return p.default;case"tabsSelector":return y;case"contentItemsSelector":return h;case"contentItemSelector":return b;case"tabSelector":return v;case"activateClickedTabContent":return i;case"addClickHandler":return r;case"addActivateFirstVisibleContentHandler":return a}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":l(e))?(void 0===t?m[e]=g:m[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){m[t]=e[t]})}function s(e){delete m[e]}function d(e){function t(){n.forEach(function(e){m[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=m[t],m[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(3),p=o(f),y=".jr-tabs",v=".jr-tab-link",h=".jr-tab-contents",b=".jr-tab-content";window.addEventListener("load",_("addClickHandler")),window.addEventListener("load",_("addActivateFirstVisibleContentHandler"));var m=Object.create(null),g="__INTENTIONAL_UNDEFINED__",w={};!function(){function e(e,t){Object.defineProperty(w,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}(),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=w,t.default=w},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){_("$dropDownMore",r("$")("#jr-actionbar-filter-dropdown-more")),r("$dropDownMore").on("click",function(e){e.preventDefault();var t=r("$dropDownMore").hasClass("opened")?"disableFilter":"enableFilter",n=r("$dropDownMore").data("cmd");submitFilterForm(n,t,!1),r("$dropDownMore").toggleClass("opened")})}function r(e){if(void 0===v||void 0===v[e])return a(e);var t=v[e];return t===h?void 0:t}function a(e){switch(e){case"$dropDownMore":return y;case"$":return p.default;case"addClickHandlerForDropDownMore":return i}}function _(e,t){return void 0===v||void 0===v[e]?c(e,t):v[e]=t}function c(e,t){switch(e){case"$dropDownMore":return y=t}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":l(e))?(void 0===t?v[e]=h:v[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){v[t]=e[t]})}function s(e){delete v[e]}function d(e){function t(){n.forEach(function(e){v[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=v[t],v[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(3),p=o(f),y=void 0;window.addEventListener("load",r("addClickHandlerForDropDownMore"));var v=Object.create(null),h="__INTENTIONAL_UNDEFINED__",b={};!function(){function e(e,t){Object.defineProperty(b,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",r),e("__GetDependency__",r),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}(),t.__get__=r,t.__GetDependency__=r,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=b,t.default=b},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){u("$actionBarButton",_("$")("#jr-actionbar-button-delete").children()),_("$actionBarButton").length&&_("$actionBarButton").on("click",function(e){e.preventDefault();var t=this.dataset.popupOptions,n=this.dataset.formName,o=$JR.dialog(t,n);o.openDeletePopup()})}function r(){u("$actionBarButton",_("$")("#jr-actionbar-button-import").children()),_("$actionBarButton").length&&"layer"==_("$actionBarButton")[0].dataset.type&&_("$actionBarButton").on("click",function(e){e.preventDefault();var t=this.dataset.popupOptions,n=this.dataset.formName,o=$JR.dialog(t,n);o.openImportProcessPopup()})}function a(){u("$actionBarButton",_("$")("#jr-actionbar-button-export").children()),_("$actionBarButton").length&&"layer"==_("$actionBarButton")[0].dataset.type&&_("$actionBarButton").on("click",function(e){e.preventDefault();var t=jQuery.parseJSON(this.dataset.popupOptions),n=this.dataset.formName,o=$JR.dialog(t,n);o.openExportProcessPopup()})}function _(e){if(void 0===b||void 0===b[e])return c(e);var t=b[e];return t===m?void 0:t}function c(e){switch(e){case"$actionBarButton":return h;case"$":return v.default;case"addClickHandlerForDeleteButton":return i;case"addClickHandlerForImportButton":return r;case"addClickHandlerForExportButton":return a}}function u(e,t){return void 0===b||void 0===b[e]?s(e,t):b[e]=t}function s(e,t){switch(e){case"$actionBarButton":return h=t}}function d(e,t){return"object"!==("undefined"==typeof e?"undefined":p(e))?(void 0===t?b[e]=m:b[e]=t,function(){l(e)}):void Object.keys(e).forEach(function(t){b[t]=e[t]})}function l(e){delete b[e]}function f(e){function t(){n.forEach(function(e){b[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=b[t],b[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=n(3),v=o(y),h=void 0;window.addEventListener("load",_("addClickHandlerForDeleteButton")),window.addEventListener("load",_("addClickHandlerForImportButton")),window.addEventListener("load",_("addClickHandlerForExportButton"));var b=Object.create(null),m="__INTENTIONAL_UNDEFINED__",g={};!function(){function e(e,t){Object.defineProperty(g,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",d),e("__set__",d),e("__reset__",l),e("__ResetDependency__",l),e("__with__",f)}(),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=d,t.__set__=d,t.__ResetDependency__=l,t.__RewireAPI__=g,t.default=g},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if(void 0===m||void 0===m[e])return a(e);var t=m[e];return t===g?void 0:t}function a(e){switch(e){case"$":return p.default;case"Notification":return y.Notification;case"Widget":return h.default}}function _(e,t){return"object"!==("undefined"==typeof e?"undefined":d(e))?(void 0===t?m[e]=g:m[e]=t,function(){c(e)}):void Object.keys(e).forEach(function(t){m[t]=e[t]})}function c(e){delete m[e]}function u(e){function t(){n.forEach(function(e){m[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=m[t],m[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function s(e,t){Object.defineProperty(b,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(3),p=o(f),y=n(1),v=n(28),h=o(v),b=function(){function e(){i(this,e),this.$loadingLayer=null,this.grid=null,this.$gridStack=null,this.activeWidgets={},this.storage=new window.Basil,this.dashboardKey=r("$")("#dashboardUser").val()+"-dashboard",this.activeWidgetsLoaded=!1,this.customizeDashboard=+r("$")("#customizeDashboard").val()}return l(e,[{key:"_initActionbar",value:function(){var e=this;r("$")("#action-add-dashboard-widget").click(function(){return e._showWidgetDialog()})}},{key:"_initGrid",value:function(){var e={cellHeight:120,verticalMargin:10,acceptWidgets:!0,removable:!0,handle:".jr-dashboard-label",disableResize:!this.customizeDashboard,disableDrag:!this.customizeDashboard};this.$gridStack.gridstack(e),this.grid=this.$gridStack.data("gridstack")}},{key:"_initGridEvents",value:function(){var e=this;this.$gridStack.on("dragstop",function(){return e._applyNewPositions()}),this.$gridStack.on("resizestop",function(){return e._applyNewPositions()})}},{key:"_applyNewPositions",value:function(){var e=this;r("$")(".grid-stack .grid-stack-item:visible").each(function(t,n){var o=r("$")(n),i=o.find(".grid-stack-item-content"),a=o.data("_gridstack_node");if(a&&a.id&&e.activeWidgets[a.id]){var _=e.activeWidgets[a.id];_.x=a.x,_.y=a.y,_.width=a.width,_.height=a.height,_.lastContent=i.html()}}),this._saveActiveWidgets()}},{key:"_saveActiveWidgets",value:function(){var e={};e.widgets={},r("$").each(this.activeWidgets,function(t,n){e.widgets[t]=n.getPersistentData()}),r("$").post("index.php?cmd=Ajax_Dashboard&action=saveActiveWidgets",e,function(){},"json").fail(function(e){var t=new(r("Notification"));t.show(e.responseJSON,"error")})}},{key:"_loadActiveWidgets",value:function(){var e=this;if(!this.activeWidgetsLoaded){var t=r("$")("#dashboardWidgets").val();if(""!==t&&this.setActiveWidgets(JSON.parse(t)),r("$").isEmptyObject(this.activeWidgets))return void this.storage.set(this.dashboardKey,"");var n=this.storage.get(this.dashboardKey);if(n){var o=JSON.parse(n);o&&r("$").each(o,function(t,n){e.activeWidgets[t]&&(e.activeWidgets[t].lastContent=n)})}}}},{key:"_renderGrid",value:function(){var e=this;this.grid.removeAll(),r("$").each(this.activeWidgets,function(t,n){var o=r("$")(getDashboardSpinner()).addClass("grid-stack-spinner-"+t).hide(),i=r("$")('<div><div class="grid-stack-item-content grid-stack-item-'+n.id+'" id="jr-grid-stack-item-'+t+'"/></div>');e.customizeDashboard&&!function(){var o=r("$")('<a class="jr-icon-link jr-dashboard-close-link"><i class="jr-icon-close"></i></a>');o.hide(),o.on("click",function(){e._removeWidget(t,n)}),i.append(o),i.on("mouseover",function(){o.show()}),i.on("mouseout",function(){o.hide()})}(),i.append(o);var a=void 0,_=void 0,c=void 0,u=void 0;n.options&&(a=n.options.minWidth,_=n.options.maxWidth,c=n.options.minHeight,u=n.options.maxHeight),e.grid.addWidget(i,n.x,n.y,n.width,n.height,n.autoPosition,a,_,c,u,t)}),this._refreshAll(this.activeWidgets),r("$")(".jr-dashboard-container").mCustomScrollbar({theme:"minimal-dark"})}},{key:"_refreshAll",value:function(e){var t=this,n={};if(!r("$").isEmptyObject(e)){r("$").each(e,function(e,t){n[e]={},n[e].name=t.name,n[e].vendor=t.vendor,t.refreshStarted()});var o={};o.widgets=n,r("$").ajax({url:"index.php?cmd=Ajax_Dashboard&action=refreshActiveWidgets",method:"POST",data:o}).done(function(e){e=JSON.parse(e),r("$").each(e.widgets,function(e,n){n.data.widget=n,n.data.widget.meta.data=n.data;var o=t.getWidget(n.meta.id);o.data=n.data,o.meta=n.meta,o.render()}),t._storeCurrentWidgetContents()}).fail(this._parseFatalError).always(function(){return r("$").each(e,function(e,t){return t.refreshStopped()})})}}},{key:"_removeWidget",value:function(e){var t=r("$")('div[data-gs-id="'+e+'"]');this.grid.removeWidget(t),this.activeWidgets[e]&&delete this.activeWidgets[e];var n=JSON.parse(this.storage.get(this.dashboardKey));null!=n&&(delete n[e],this.storage.set(this.dashboardKey,JSON.stringify(n))),this._applyNewPositions()}},{key:"_storeCurrentWidgetContents",value:function(){var e=this.storage.get(this.dashboardKey);""!=e&&(e=JSON.parse(e)),null!=e&&""!=e||(e={}),r("$").each(this.activeWidgets,function(t,n){e[t]=n.lastContent}),this.storage.set(this.dashboardKey,JSON.stringify(e))}},{key:"_renderWidgetsList",value:function(e){var t=this,n=r("$")('<nav style="display: block;" class="jr-new-widget-content" id="jr-widgets-listing">'),o=!1,i={};if(r("$").each(e,function(e,t){void 0==i[t.category]&&(i[t.category]=[]),i[t.category].push(t)}),r("$").each(i,function(e,i){var a=r("$")('<h3 class="jr-new-widget-content-header">'+e+"</h3>"),_=t._renderCategoryWidgets(i);r("$")(_).find("li").not(".hidden").length&&(n.append(a),n.append(_),o=!0)}),!o){var a=r("$")('<div class="jr-new-widget-content-empty"><i class="jr-icon-notification-info"></i><span>'+jr_get_constant_value("CONST_NO_WIDGETS_AVAILABLE")+"</span></div>");n.append(a)}return n}},{key:"_renderCategoryWidgets",value:function(e){var t=this,n=r("$")('<ul class="jr-new-widget-content-items clearfix">');return r("$").each(e,function(e,o){var i="popup-item-"+o.id,a=r("$")('<li class="jr-new-widget-content-item" id="'+i+'">'),_="";o.icon&&(_='<i class="'+o.icon+'"></i>');var c=r("$")('<a class="jr-new-widget-content-item-link" href="javascript:void(0);">'+_+'<span class="jr-new-widget-content-item-label">'+o.title+"</span></a>");c.click(function(){var e=t._addWidget(o);e&&r("$")("#jr-widget-dialog-close").click()}),a.append(c),n.append(a)}),n}},{key:"_showWidgetDialog",value:function(){var e=this,t=new LoadingLayer("",!0,!0);t.show(),r("$").ajax("index.php?cmd=Ajax_Dashboard&action=getAvailableWidgets").always(function(){return t.hide()}).done(function(t){try{t=JSON.parse(t)}catch(e){t={widgets:[]}}var n=e._renderWidgetsList(t.widgets),o=window.$JR.widget.dialog("dashboard-widgets",{close:function(){r("$")(this).dialog("close").dialog("destroy").remove()}});o.setTitle("Dashboard Widgets"),o.setContent(n),o.setOptions({modal:!0,width:660,buttons:[{text:jr_get_constant_value("CONST_CLOSE"),click:function(){r("$")(this).dialog("close")},id:"jr-widget-dialog-close",css:{"z-index":"100"}}]}),o.open()}).fail(this._parseFatalError)}},{key:"_addWidget",value:function(e){var t=e.id+"_"+(new Date).getTime();return e.id=t,e.customizeDashboard=this.customizeDashboard,e instanceof r("Widget")||(e=new(r("Widget"))(e)),this.activeWidgets[t]=e,this._renderGrid(),this._applyNewPositions(),!0}},{key:"_parseFatalError",value:function(e){if(500==e.status){var t=e.responseText,n=" PHP fatal error: ",o=t.substring(t.lastIndexOf(n)+n.length,t.lastIndexOf("</body></html>")).trim();
(new(r("Notification"))).show(o,"error")}}},{key:"setActiveWidgets",value:function(e){var t=this;r("$").each(e,function(n,o){o.id=n,o.customizeDashboard=t.customizeDashboard,o instanceof r("Widget")||(e[n]=new(r("Widget"))(o))}),this.activeWidgets=e,this.activeWidgetsLoaded=!0}},{key:"render",value:function(){this.$loadingLayer=new LoadingLayer("",!0,!0),this.$gridStack=r("$")(".grid-stack"),this.activeWidgetsLoaded=!1,this._initGrid(),this.customizeDashboard&&(this._initActionbar(),this._initGridEvents()),this._loadActiveWidgets(),this._renderGrid()}},{key:"getWidget",value:function(e){return this.activeWidgets[e]}}]),e}();t.default=b;var m=Object.create(null),g="__INTENTIONAL_UNDEFINED__",w={};!function(){function e(e,t){Object.defineProperty(w,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",r),e("__GetDependency__",r),e("__Rewire__",_),e("__set__",_),e("__reset__",c),e("__ResetDependency__",c),e("__with__",u)}();var j="undefined"==typeof b?"undefined":d(b);"object"!==j&&"function"!==j||!Object.isExtensible(b)||(s("__get__",r),s("__GetDependency__",r),s("__Rewire__",_),s("__set__",_),s("__reset__",c),s("__ResetDependency__",c),s("__with__",u),s("__RewireAPI__",w)),t.__get__=r,t.__GetDependency__=r,t.__Rewire__=_,t.__set__=_,t.__ResetDependency__=c,t.__RewireAPI__=w},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if(void 0===v||void 0===v[e])return a(e);var t=v[e];return t===h?void 0:t}function a(e){switch(e){case"$":return p.default}}function _(e,t){return"object"!==("undefined"==typeof e?"undefined":d(e))?(void 0===t?v[e]=h:v[e]=t,function(){c(e)}):void Object.keys(e).forEach(function(t){v[t]=e[t]})}function c(e){delete v[e]}function u(e){function t(){n.forEach(function(e){v[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=v[t],v[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function s(e,t){Object.defineProperty(y,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(3),p=o(f),y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.category=t.category,this.height=t.height,this.icon=t.icon,this.id=t.id,this.name=t.name,this.options=t.options,this.title=t.title,this.vendor=t.vendor,this.width=t.width,this.x=t.x,this.y=t.y,this.lastContent=t.lastContent||"",this.data=t.data,this.meta=t.meta,this.customizeDashboard=t.customizeDashboard}return l(e,[{key:"render",value:function(){var e=window.Handlebars.compile(this.meta.template);this._updateWidgetContent(this.meta.id,e,this.data),window.dashboard._storeCurrentWidgetContents()}},{key:"refreshStarted",value:function(){var e=r("$")(".grid-stack-spinner-"+this.id),t=getSpinner();this.lastContent&&(t=this.lastContent,e.show()),this._updateWidgetHtml(this.id,t)}},{key:"refreshStopped",value:function(){r("$")(".grid-stack-spinner-"+this.id).hide()}},{key:"_updateWidgetContent",value:function(e,t,n){var o=t(n);this._updateWidgetHtml(e,o),this.lastContent=o}},{key:"_updateWidgetHtml",value:function(e,t){var n="#jr-grid-stack-item-"+e;r("$")(n).html(t),r("$")(n).find(".jr-dashboard-container").mCustomScrollbar({theme:"minimal-dark"}),this.customizeDashboard&&r("$")(n).find(".jr-dashboard-label").addClass("jr-dashboard-move-widget")}},{key:"getPersistentData",value:function(){return{id:this.id,name:this.name,vendor:this.vendor,options:this.options,x:this.x,y:this.y,width:this.width,height:this.height}}}]),e}();t.default=y;var v=Object.create(null),h="__INTENTIONAL_UNDEFINED__",b={};!function(){function e(e,t){Object.defineProperty(b,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",r),e("__GetDependency__",r),e("__Rewire__",_),e("__set__",_),e("__reset__",c),e("__ResetDependency__",c),e("__with__",u)}();var m="undefined"==typeof y?"undefined":d(y);"object"!==m&&"function"!==m||!Object.isExtensible(y)||(s("__get__",r),s("__GetDependency__",r),s("__Rewire__",_),s("__set__",_),s("__reset__",c),s("__ResetDependency__",c),s("__with__",u),s("__RewireAPI__",b)),t.__get__=r,t.__GetDependency__=r,t.__Rewire__=_,t.__set__=_,t.__ResetDependency__=c,t.__RewireAPI__=b},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DesignerMapCommand=t.EditInstanceCommand=t.EditProcessCategoriesCommand=t.ImportLanguageCommand=t.DialogDesignerCommand=t.AboutCommand=t.IncidentTrackingCommand=t.ProcessCommentsCommand=t.OpenHyperlinkCommand=t.ActionbarButtonActionsCommand=t.AccountOptionsCommand=void 0,n(30),n(31),n(32),n(33),n(34);var i=n(35),r=o(i),a=n(37),_=o(a),c=n(38),u=o(c),s=n(39),d=o(s),l=n(40),f=o(l),p=n(41),y=o(p),v=n(42),h=o(v),b=n(43),m=o(b),g=n(44),w=o(g),j=n(45),D=o(j),O=n(46),S=o(O);t.AccountOptionsCommand=r.default,t.ActionbarButtonActionsCommand=_.default,t.OpenHyperlinkCommand=u.default,t.ProcessCommentsCommand=d.default,t.IncidentTrackingCommand=f.default,t.AboutCommand=y.default,t.DialogDesignerCommand=h.default,t.ImportLanguageCommand=m.default,t.EditProcessCategoriesCommand=w.default,t.EditInstanceCommand=D.default,t.DesignerMapCommand=S.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){l("indexDialog").dialog("option","width",e),l("indexDialog").dialog("option","height",t)}function r(){null===l("indexDialogOriginalDimensions")&&p("indexDialogOriginalDimensions",{width:l("indexDialog").dialog("option","width"),height:l("indexDialog").dialog("option","height")}),l("resizeIndexDialog")("95%",l("$")(window).height()-l("popupToWindowDistance")),l("indexDialog").center()}function a(e,t){var n=l("$")("#uploaded-file"),o=l("$")(".jr-file-wrapper-draggable-container");o.append(l("jobArchiveShowIndexDialogMakeFileNode")(e)),l("$")(".jr-jobarchive-showindexdialog-link:last").click(function(){var t=l("$")(".jr-jobarchive-indexdialog-viewer-container");if(l("viewerUrlIsDownload")(e.viewer))return void t.find("iframe").attr("src",e.viewer);var n=l("$")(".jr-jobarchive-indexdialog-fields-container");n.width(n.width()),l("maximizeIndexDialog")(),t.css("left",n.width()+20+"px"),l("showViewer")(e)});var i=n.find(".jr-file-wrapper-file-remove");return t?(o.sortable({axis:"y",handle:".jr-file-wrapper-file-sort"}),i.off("click"),void i.on("click",l("jobArchiveShowIndexDialogRemoveFile"))):(l("$")(".job-archive-file-wrapper-container").width("100%"),i.hide(),void o.find(".jr-file-wrapper-file-sort").hide())}function _(e){return e.indexOf("forcedownload=1")!==-1}function c(e){var t=l("$")(".jr-jobarchive-indexdialog-viewer-container");t.show(),l("updateViewerSrc")(e.viewer)}function u(e){var t=l("$")(".jr-jobarchive-indexdialog-viewer-container"),n=t.find("iframe");n.attr("src")!==e&&n.attr("src",e)}function s(e){var t='<div class="jr-file-wrapper-file-container job-archive-file-wrapper-container">';return t+='<span class="btn-md jr-file-wrapper-file-sort"><i class="jr-icon-drag"></i></span>',t+='<a class="jr-file-wrapper-file-show jr-jobarchive-showindexdialog-link">'+e.name+"</a>",t+='<input type="hidden" name="ticketIds[]" class="jr-job-archive-ticket-id-input" value="'+e.id+'">',t+='<input type="hidden" name="ticketTypes[]" class="jr-job-archive-ticket-id-input" value="'+e.type+'">',t+='<span class="btn-md jr-file-wrapper-file-remove" data-ticket="'+e.id+'">',t+='<i class="jr-icon-close"></i>',t+="</span>",t+="</div>"}function d(){if(l("$")(this).closest(".jr-file-wrapper-file-container").remove(),0===l("$")(".jr-job-archive-ticket-id-input").length){var e=l("$")("#uploaded-file");e.hide()}}function l(e){if(void 0===S||void 0===S[e])return f(e);var t=S[e];return t===E?void 0:t}function f(e){switch(e){case"indexDialog":return D;case"$":return w.default;case"popupToWindowDistance":return j;case"_appendFileNode":return a;case"indexDialogOriginalDimensions":return O;case"resizeIndexDialog":return i;case"jobArchiveShowIndexDialogMakeFileNode":return s;case"viewerUrlIsDownload":return _;case"maximizeIndexDialog":return r;case"showViewer":return c;case"jobArchiveShowIndexDialogRemoveFile":return d;case"updateViewerSrc":return u}}function p(e,t){return void 0===S||void 0===S[e]?y(e,t):S[e]=t}function y(e,t){switch(e){case"indexDialog":return D=t;case"indexDialogOriginalDimensions":return O=t}}function v(e,t){return"object"!==("undefined"==typeof e?"undefined":m(e))?(void 0===t?S[e]=E:S[e]=t,function(){h(e)}):void Object.keys(e).forEach(function(t){S[t]=e[t]})}function h(e){delete S[e]}function b(e){function t(){n.forEach(function(e){S[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=S[t],S[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=n(3),w=o(g),j=20,D=void 0,O=null;window.jobArchiveShowIndexDialogInitDragAndDropUpload=function(e,t,n){function o(){setTimeout(function(){0!==r?l("$")(".ui-dialog").find("button").attr("disabled","1"):l("$")(".ui-dialog").find("button").removeAttr("disabled")},10)}function i(){var e={fallback_id:"create_document_files",url:"index.php?cmd=Ajax_JobArchiveIndexDialogSave&action=upload",paramname:"files",maxfilesize:t,queuefiles:2,error:function(e,t){if(t)switch(r--,o(),l("$")("#dragAndDropZoneLoading").hide(),l("$")("#dragAndDropZone").show(),l("$")("#general-errors").html("").show(),e){case"TooManyFiles":addGeneralError(jr_get_constant_value("CONST_TOO_MANY_FILES")+" ("+this.maxfiles+")");break;case"FileTooLarge":addGeneralError(jr_get_constant_value("CONST_FILE_TOO_LARGE")+" (&gt;"+this.maxfilesize+" MB)")}},drop:function(){l("$")("#dragAndDropZone").hide(),l("$")("#dragAndDropZoneLoading").show()},uploadStarted:function(e,t){t&&(r++,o())},uploadFinished:function(e,t,i){if(t){r--,o();var a=l("$")("#uploaded-file");a.show(),l("_appendFileNode")(i.result,n),l("$")("#general-errors").html("").hide(),l("$")("#dragAndDropZoneLoading").hide(),l("$")("#dragAndDropZone").show(),l("$")(".ui-dialog").find("button").removeAttr("disabled")}}};l("$")("#dragAndDropZone").show().filedrop(e)}p("indexDialog",$JR.widget.dialog("indexDialog")),l("indexDialog").dialog("option","open",function(){l("indexDialog").dialog().height()>=l("$")(window).height()&&l("indexDialog").dialog("option","height",l("$")(window).height()-l("popupToWindowDistance"));var e=l("$")("#contentBox_wf_");e.css("width",e.width())});var r=0;if(isDragAndDropUploadSupported()){var a=l("$")("#uploaded-file");e&&(e instanceof Array||!function(){var t=[];l("$").each(e,function(e,n){t.push(n)}),e=t}(),e.forEach(function(e){l("_appendFileNode")(e,n)}),e.length&&a.show()),n?i():(l("$")("#create_document_files").hide(),a.find("p").hide())}};var S=Object.create(null),E="__INTENTIONAL_UNDEFINED__",R={};!function(){function e(e,t){Object.defineProperty(R,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",l),e("__GetDependency__",l),e("__Rewire__",v),e("__set__",v),e("__reset__",h),e("__ResetDependency__",h),e("__with__",b)}(),t.__get__=l,t.__GetDependency__=l,t.__Rewire__=v,t.__set__=v,t.__ResetDependency__=h,t.__RewireAPI__=R,t.default=R},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){u("$pager").on("click",".jr-step-actionbar-pager-link",function(e){e.preventDefault(),window.$JRSTEP.getStep({steporder:u("$")(this).data("action"),inbox_id:u("$pager").data("inbox-id")})})}function r(e){window.$JRSTEP.doComment=function(){var t=$JR.LAYERS.getGenericFormLayer(),n=u("$")("#newComment").val(),o=n?"":$JR_JS_CONSTANTS.CONST_ERROR_COMMENT_EMPTY;if(u("$")("#messageField").replaceWith(o),""!==n){var i=u("$").extend({},e,{action:"save",text:n});u("$").ajax("index.php?cmd=Step_Comments",{method:"POST",data:i}).done(function(){u("$")("#jr-step-actionbar-state-comments").css("display","inline-block"),t.hide()})}},window.$JRSTEP.setComment(e,$JR_JS_CONSTANTS.CONST_COMMENTS)}function a(e,t){return e<1||e>3?void(console&&console.error&&console.error("Priority "+e+" is not valid!")):"object"!==("undefined"==typeof t?"undefined":v(t))?void(console&&console.error&&console.error("Priority params is not an object")):void window.$JRSTEP.setPriority(e,t)}function _(){u("$actionBar").on("click","a",function(e){var t=u("$")(this),n=t.data("action");if(n&&"close"!=n){if(e.preventDefault(),u("$")("#jr-step-actionbar-button-group-send").removeClass("open"),u("allowedStepActions").indexOf(n)===-1)return void(console&&console.error&&console.error("Action "+n+" is not allowed!"));var o=t.data("params");return"comment"===n?void u("processComment")(o):"priority"===n?void u("setPriority")(+t.data("priority"),o):"function"!=typeof window.$JRSTEP[n]?void(console&&console.error&&console.error("Function "+n+" on $JRSTEP does not exist")):"object"===("undefined"==typeof o?"undefined":v(o))?void window.$JRSTEP[n](o):void window.$JRSTEP[n]()}})}function c(){d("$pager",u("$")("#jr-step-actionbar-pager")),u("$pager").length>0&&u("addPagerEventHandler")(),d("$actionBar",u("$")("#jr-step-actionbar")),u("$actionBar").length>0&&u("addActionBarEventHandler")()}function u(e){if(void 0===j||void 0===j[e])return s(e);var t=j[e];return t===D?void 0:t}function s(e){switch(e){case"$pager":return g;case"$":return b.default;case"$actionBar":return w;case"allowedStepActions":return m;case"processComment":return r;case"setPriority":return a;case"addPagerEventHandler":return i;case"addActionBarEventHandler":return _;case"initialize":return c}}function d(e,t){return void 0===j||void 0===j[e]?l(e,t):j[e]=t}function l(e,t){switch(e){case"$pager":return g=t;case"$actionBar":return w=t}}function f(e,t){return"object"!==("undefined"==typeof e?"undefined":v(e))?(void 0===t?j[e]=D:j[e]=t,function(){p(e)}):void Object.keys(e).forEach(function(t){j[t]=e[t]})}function p(e){delete j[e]}function y(e){function t(){n.forEach(function(e){j[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=j[t],j[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n(3),b=o(h),m=["abortStep","answerStep","assignStep","backStep","comment","finishStep","jumpToStep","printStep","requestStep","priority","toggleReserve","resubmissionStep","saveStep","sendStep","setProcessTracking","showStepDetails","showStepInfo","showStepMap","showStepProperties","toggleBatchProcessing"],g=null,w=null;window.addEventListener("load",u("initialize"));var j=Object.create(null),D="__INTENTIONAL_UNDEFINED__",O={};!function(){function e(e,t){Object.defineProperty(O,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",u),e("__GetDependency__",u),e("__Rewire__",f),e("__set__",f),e("__reset__",p),e("__ResetDependency__",p),e("__with__",y)}(),t.__get__=u,t.__GetDependency__=u,t.__Rewire__=f,t.__set__=f,t.__ResetDependency__=p,t.__RewireAPI__=O,t.default=O},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){_("$actionBar").on("click",".jr-step-actionbar-dropdown-more",function(){var e=_("$")(this).closest(".jr-step-actionbar-dropdown"),t=0;_("$")(".jr-step-actionbar-pager").length&&(t=60),_("$")(".jr-step-actionbar-dropdown-menu").css("right",40+t),e.toggleClass("open"),e.find(".jr-step-actionbar-dropdown-more").attr("aria-expanded","true")})}function r(){_("$")(document).on("click",function(e){_("$")(e.target).closest(".jr-dropdown-link").length>0||_("$")(e.target).closest(".jr-step-actionbar-dropdown-more").length>0||(_("$")(".jr-step-actionbar-dropdown").removeClass("open"),_("$actionBar").find(".jr-step-actionbar-dropdown-more").attr("aria-expanded","false"))})}function a(){u("$actionBar",_("$")("#jr-step-actionbar")),0!==_("$actionBar").length&&(_("addClickHandlerForDropdownToggle")(),_("addClickHandlerForClickingSomewhereElse")())}function _(e){if(void 0===b||void 0===b[e])return c(e);var t=b[e];return t===m?void 0:t}function c(e){switch(e){case"$actionBar":return p;case"$":return h.default;case"addClickHandlerForDropdownToggle":return i;case"addClickHandlerForClickingSomewhereElse":return r;case"initialize":return a}}function u(e,t){return void 0===b||void 0===b[e]?s(e,t):b[e]=t}function s(e,t){switch(e){case"$actionBar":return p=t}}function d(e,t){return"object"!==("undefined"==typeof e?"undefined":y(e))?(void 0===t?b[e]=m:b[e]=t,function(){l(e)}):void Object.keys(e).forEach(function(t){b[t]=e[t]})}function l(e){delete b[e]}function f(e){function t(){n.forEach(function(e){b[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=b[t],b[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var p,y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=n(3),h=o(v);window.addEventListener("load",_("initialize"));var b=Object.create(null),m="__INTENTIONAL_UNDEFINED__",g={};!function(){function e(e,t){Object.defineProperty(g,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",d),e("__set__",d),e("__reset__",l),e("__ResetDependency__",l),e("__with__",f)}(),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=d,t.__set__=d,t.__ResetDependency__=l,t.__RewireAPI__=g,t.default=g},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){_("$actionBar").on("click",".jr-dropdown-toggle",function(){var e=_("$")(this).closest(".jr-btn-group");e.toggleClass("open"),e.find(".jr-dropdown-toggle").attr("aria-expanded","true");var t=e.siblings(".jr-btn-group");t.removeClass("open"),t.find(".jr-dropdown-toggle").attr("aria-expanded","false")})}function r(){_("$")(document).on("click",function(e){_("$")(e.target).closest(".jr-dropdown-link").length>0||_("$")(e.target).closest(".jr-dropdown-toggle").length>0||(_("$")(".jr-btn-group").removeClass("open"),_("$actionBar").find(".jr-dropdown-toggle").attr("aria-expanded","false"))})}function a(){u("$actionBar",_("$")("#jr-step-actionbar")),0!==_("$actionBar").length&&(_("addClickHandlerForDropdownToggle")(),_("addClickHandlerForClickingSomewhereElse")())}function _(e){if(void 0===b||void 0===b[e])return c(e);var t=b[e];return t===m?void 0:t}function c(e){switch(e){case"$actionBar":return h;case"$":return v.default;case"addClickHandlerForDropdownToggle":return i;case"addClickHandlerForClickingSomewhereElse":return r;case"initialize":return a}}function u(e,t){return void 0===b||void 0===b[e]?s(e,t):b[e]=t}function s(e,t){switch(e){case"$actionBar":return h=t}}function d(e,t){return"object"!==("undefined"==typeof e?"undefined":p(e))?(void 0===t?b[e]=m:b[e]=t,function(){l(e)}):void Object.keys(e).forEach(function(t){b[t]=e[t]})}function l(e){delete b[e]}function f(e){function t(){n.forEach(function(e){b[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=b[t],b[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=n(3),v=o(y),h=void 0;window.addEventListener("load",_("initialize"));var b=Object.create(null),m="__INTENTIONAL_UNDEFINED__",g={};!function(){function e(e,t){Object.defineProperty(g,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",d),e("__set__",d),e("__reset__",l),e("__ResetDependency__",l),e("__with__",f)}(),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=d,t.__set__=d,t.__ResetDependency__=l,t.__RewireAPI__=g,t.default=g},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){u("$morePages").off("click",u("openDropDown")),u("$morePages").on("click",u("openDropDown"))}function r(){u("$dropDownItems").length&&u("$dropDownItems").each(function(e,t){u("$")(t).on("click",function(){u("$morePagesLink").addClass("active")})})}function a(){u("$")(document).on("click",function(e){u("$")(e.target).closest(".jr-step-dialog-tabs-dropdown").length>0||(u("$morePages").removeClass("open"),u("$morePagesLink").attr("aria-expanded","false"),u("$morePagesMenu").find(".jr-step-dialog-tabs-dropdown-link.active").length||u("$morePagesLink").removeClass("active"))})}function _(){if(u("$morePages")&&u("$morePages").length){u("$morePages").hide();var e=u("$pageTabs").find(".jr-tab"),t=1;u("$")("body").hasClass("jr-print-mode")&&(t=0);var n=u("$")("#jrDialogContent").width()+t;u("$")("#jr-step-dialog-tabs").width(n);var o=0,i=50,r=0;e.each(function(e,t){var a=u("$")(t).width();!r&&o+a+i>n&&(r=e),o+=a}),e.show(),o+i>n&&(u("$pageTabs").find("li:gt("+(r-1)+")").hide(),u("$morePagesMenu").find("li").show(),u("$morePagesMenu").find("li:lt("+r+")").hide(),u("$morePages").show());var a=u("$morePagesMenu").find(".jr-step-dialog-tabs-dropdown-link.active");if(a.length&&("none"==a.parent().css("display")||!u("$morePages").is(":visible"))){var _=e.find('a[href="'+a.attr("href")+'"]');_.addClass("active"),a.removeClass("active"),u("$morePagesLink").removeClass("active")}a.length&&"none"!=a.parent().css("display")&&u("$morePagesLink").addClass("active");var c=e.find(".jr-step-dialog-tab-link.active");if(c.length&&!c.parent().is(":visible")){var s=u("$morePagesMenu").find('a[href="'+c.attr("href")+'"]');s.addClass("active"),c.removeClass("active"),u("$morePagesLink").addClass("active")}c.length&&c.parent().is(":visible")&&c.addClass("active")}}function c(){d("$pageTabs",u("$")("#jr-step-dialog-tabs")),d("$morePages",u("$")("#jr-step-dialog-tabs-dropdown")),d("$morePagesMenu",u("$morePages").find(".jr-step-dialog-tabs-dropdown-menu")),d("$morePagesLink",u("$morePages").find(".jr-step-dialog-tabs-dropdown-text")),u("$pageTabs").length&&(d("$dropDownItems",u("$morePagesMenu").find("li")),u("addClickHandlerForDropdownToggle")(),u("addClickHandlerForClickingSomewhereElse")(),u("arrangeTabs")(),u("addClickHandlerForDropDownItems")(),u("$")(document).on("jr-rearrange-dialog-pages",u("arrangeTabs")))}function u(e){if(void 0===S||void 0===S[e])return s(e);var t=S[e];return t===E?void 0:t}function s(e){switch(e){case"$morePages":return w;case"openDropDown":return O;case"$":return b.default;case"$morePagesLink":return D;case"$dropDownItems":return g;case"$morePagesMenu":return j;case"$pageTabs":return m;case"addClickHandlerForDropdownToggle":return i;case"addClickHandlerForClickingSomewhereElse":return a;case"arrangeTabs":return _;case"addClickHandlerForDropDownItems":return r;case"initialize":return c}}function d(e,t){return void 0===S||void 0===S[e]?l(e,t):S[e]=t}function l(e,t){switch(e){case"$pageTabs":return m=t;case"$morePages":return w=t;case"$morePagesMenu":return j=t;case"$morePagesLink":return D=t;case"$dropDownItems":return g=t}}function f(e,t){return"object"!==("undefined"==typeof e?"undefined":v(e))?(void 0===t?S[e]=E:S[e]=t,function(){p(e)}):void Object.keys(e).forEach(function(t){S[t]=e[t]})}function p(e){delete S[e]}function y(e){function t(){n.forEach(function(e){S[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=S[t],S[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n(3),b=o(h),m=void 0,g=void 0,w=void 0,j=void 0,D=void 0,O=function(e){var t=u("$")(u("$")(e.target).closest("li")[0]);return t.hasClass("jr-step-dialog-tabs-dropdown")?(u("$morePages").toggleClass("open"),void u("$morePagesLink").attr("aria-expanded","true")):void u("$morePages").removeClass("open")};window.addEventListener("load",u("initialize"));var S=Object.create(null),E="__INTENTIONAL_UNDEFINED__",R={};!function(){function e(e,t){Object.defineProperty(R,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",u),e("__GetDependency__",u),e("__Rewire__",f),e("__set__",f),e("__reset__",p),e("__ResetDependency__",p),e("__with__",y)}(),t.__get__=u,t.__GetDependency__=u,t.__Rewire__=f,t.__set__=f,t.__ResetDependency__=p,t.__RewireAPI__=R,t.default=R},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){if(void 0===w||void 0===w[e])return c(e);var t=w[e];return t===j?void 0:t}function c(e){switch(e){case"$":return v.default;case"imageMimeType":return m;case"AbstractCommand":return b.default;case"AccountOptionsCommand":return g}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":f(e))?(void 0===t?w[e]=j:w[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){w[t]=e[t]})}function s(e){delete w[e]}function d(e){function t(){n.forEach(function(e){w[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=w[t],w[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function l(e,t){Object.defineProperty(g,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=n(3),v=o(y),h=n(36),b=o(h),m="image/jpeg",g=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._popup=null,e}return a(t,e),p(t,null,[{key:"ShouldBeInitializedAtStart",value:function(){return document.body.classList.contains("cmd-account-options")}}]),p(t,[{key:"initialize",value:function(){var e=this;_("$")("#jr-show-avatar-popup").click(function(){return e._showUserAvatarPopup()}),_("$")("#jr-user-avatar-remove-image").click(function(){var e=_("$")("#jr-user-avatar-image");e.attr("src",e.data("fallback-src")),_("$")("#user_avatar_new_image").val("delete")})}},{key:"_closeDialogHandler",value:function(e){e.which==_("$").ui.keyCode.ESCAPE&&this._popup.close()}},{key:"_showUserAvatarPopup",value:function(){var e=this;this._popup=window.$JR.widget.dialog("jr-user-avatar-popup",this._buildDialogOptions()),this._popup.setContent(this._buildInitialContent()),_("$")(".jr-drag-and-drop-file").change(function(){return e.userAvatarShowCropper()}),this._popup.show(),_("$")(document).on("keydown",function(t){return e._closeDialogHandler(t)})}},{key:"_buildInitialContent",value:function(){return'\n<div class="jr-drag-and-drop-container">\n    <div id="dragAndDropZone" class="jr-drag-and-drop-zone">\n        '+jr_get_constant_value("CONST_DRAG_DROP_FILES_HERE")+'\n        <input type="file" class="jr-drag-and-drop-file" accept="image/*">\n    </div>\n</div>\n'}},{key:"_buildDialogOptions",value:function(){var e=this;return{title:jr_get_constant_value("CONST_ACCOUNT_SETTINGS_CHANGE_AVATAR"),width:600,height:300,modal:!0,close:function(){_("$")(document).off("keydown",function(t){return e._closeDialogHandler(t)}),e._popup.destroy()},buttons:[{text:jr_get_constant_value("CONST_APPLY"),click:function(){var t=_("$")("#jr-user-avatar-image"),n=_("$")(".jr-user-avatar-popup-image"),o=function(n,o){t.attr("src",n),_("$")("#user_avatar_new_image").val(o),e._popup.close()};n&&n.length?e._calculateResizedImage(n.cropper("getCroppedCanvas"),o):o(t.data("fallback-src"),"delete")},id:"jr-user-avatar-btn-save",class:"jr-btn-success"},{text:jr_get_constant_value("CONST_ABORT"),id:"jr-user-avatar-btn-abort",click:function(){e._popup.close()}}]}}},{key:"_userAvatarDiscardImage",value:function(){var e=this;this._popup.setContent(this._buildInitialContent()),this._popup.dialog("option","width",600),this._popup.dialog("option","height",300),_("$")(".jr-drag-and-drop-file").change(function(){return e.userAvatarShowCropper()})}},{key:"_getContent",value:function(){var e='<div class="jr-user-avatar-popup-preview-image jr-user-avatar-popup-preview-image-lg"></div>',t='<div class="jr-user-avatar-popup-preview-image jr-user-avatar-popup-preview-image-md"></div>',n='<div class="jr-user-avatar-popup-preview-image jr-user-avatar-popup-preview-image-sm"></div>',o='<div class="jr-user-avatar-popup-preview-image-container">'+e+"<br>"+t+n+"</div>";return'\n<span class="jr-inline-block">\n    <div class="jr-user-avatar-popup-image-container">\n        <img class="jr-user-avatar-popup-image" src="about:blank">\n        <a href="#" class="jr-link jr-user-avatar-popup-discard-image" id="jr-user-avatar-popup-discard-image">\n            '+jr_get_constant_value("CONST_ACCOUNT_SETTINGS_DISCARD_AVATAR")+"\n        </a>\n    </div>"+o+"\n</span>\n"}},{key:"userAvatarShowCropper",value:function(){var e=this,t=_("$")(".jr-drag-and-drop-file")[0].files[0];if(0!==t.type.indexOf("image/"))return window.$JR.NOTIFICATION.show(jr_get_constant_value("CONST_ACCOUNT_SETTINGS_INVALID_IMAGE_FORMAT"),"error"),void this._userAvatarDiscardImage();var n={aspectRatio:1,zoomOnWheel:!1,preview:".jr-user-avatar-popup-preview-image"};this._popup.setContent(this._getContent()),this._popup.dialog("option","width",980),this._popup.dialog("option","height",630);var o=URL.createObjectURL(t),i=_("$")(".jr-user-avatar-popup-image");i.attr("src",o),i.cropper(n),_("$")("#jr-user-avatar-popup-discard-image").click(function(){return e._userAvatarDiscardImage()})}},{key:"_calculateResizedImage",value:function(e,t){var n=500,o=e.toDataURL(),i=document.createElement("img");
i.onload=function(){var e=document.createElement("canvas");e.setAttribute("width",""+n),e.setAttribute("height",""+n);var o=e.getContext("2d");o.drawImage(i,0,0,n,n);var r=e.toDataURL(_("imageMimeType"));t(r,r)},i.setAttribute("src",o)}}]),t}(_("AbstractCommand"));t.default=_("AccountOptionsCommand");var w=Object.create(null),j="__INTENTIONAL_UNDEFINED__",D={};!function(){function e(e,t){Object.defineProperty(D,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}();var O="undefined"==typeof g?"undefined":f(g);"object"!==O&&"function"!==O||!Object.isExtensible(g)||(l("__get__",_),l("__GetDependency__",_),l("__Rewire__",u),l("__set__",u),l("__reset__",s),l("__ResetDependency__",s),l("__with__",d),l("__RewireAPI__",D)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=D},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){if(void 0===p||void 0===p[e])return r(e);var t=p[e];return t===y?void 0:t}function r(e){switch(e){case"JobRouterException":return l.JobRouterException;case"AbstractCommand":return f}}function a(e,t){return"object"!==("undefined"==typeof e?"undefined":s(e))?(void 0===t?p[e]=y:p[e]=t,function(){_(e)}):void Object.keys(e).forEach(function(t){p[t]=e[t]})}function _(e){delete p[e]}function c(e){function t(){n.forEach(function(e){p[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=p[t],p[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function u(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(6),f=function(){function e(){o(this,e)}return d(e,[{key:"initialize",value:function(){throw new(i("JobRouterException"))("Abstract method not implemented")}}],[{key:"ShouldBeInitializedAtStart",value:function(){return!1}}]),e}();t.default=i("AbstractCommand");var p=Object.create(null),y="__INTENTIONAL_UNDEFINED__",v={};!function(){function e(e,t){Object.defineProperty(v,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",i),e("__GetDependency__",i),e("__Rewire__",a),e("__set__",a),e("__reset__",_),e("__ResetDependency__",_),e("__with__",c)}();var h="undefined"==typeof f?"undefined":s(f);"object"!==h&&"function"!==h||!Object.isExtensible(f)||(u("__get__",i),u("__GetDependency__",i),u("__Rewire__",a),u("__set__",a),u("__reset__",_),u("__ResetDependency__",_),u("__with__",c),u("__RewireAPI__",v)),t.__get__=i,t.__GetDependency__=i,t.__Rewire__=a,t.__set__=a,t.__ResetDependency__=_,t.__RewireAPI__=v},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){if(void 0===g||void 0===g[e])return c(e);var t=g[e];return t===w?void 0:t}function c(e){switch(e){case"$":return v.default;case"AbstractCommand":return b.default;case"ActionbarButtonActionsCommand":return m}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":f(e))?(void 0===t?g[e]=w:g[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){g[t]=e[t]})}function s(e){delete g[e]}function d(e){function t(){n.forEach(function(e){g[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=g[t],g[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function l(e,t){Object.defineProperty(m,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=n(3),v=o(y),h=n(36),b=o(h),m=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._dropDownItem=null,e._dropDownLink=null,e._currentMenu=null,e}return a(t,e),p(t,null,[{key:"ShouldBeInitializedAtStart",value:function(){return!!document.getElementById("jr-actionbar-button-actions")}}]),p(t,[{key:"initialize",value:function(){var e=this;this._dropDownItem=document.getElementById("jr-actionbar-button-actions"),this._dropDownItem&&(this._dropDownLink=this._dropDownItem.querySelector("a"),this._dropDownLink.href="javascript:;",this.updateDropDownVisibility(!1),window.updateActionbarDefaultActionsDropdown=function(){return e.updateActionbarDefaultActionsDropdown.apply(e,arguments)})}},{key:"updateDropDownVisibility",value:function(e){this._dropDownItem.style.display=e?"":"none"}},{key:"buildMenuList",value:function(e,t){var n=this,o=document.createElement("ul");return o.classList.add("jr-actionbar-dropdown-menu"),t.forEach(function(t){var i=e[t],r=n.buildMenuItem(i.label,function(){var e=document.getElementById("id_actions");e.value=i.id,window.$JR.JRFORM.doTableAction()});o.appendChild(r)}),o}},{key:"buildMenuItem",value:function(e,t){var n=document.createTextNode(e),o=document.createElement("a");o.onclick=t,o.classList.add("jr-actionbar-dropdown-link-without-icon"),o.appendChild(n);var i=document.createElement("li");return i.classList.add("jr-actionbar-dropdown-item"),i.appendChild(o),i}},{key:"openMenu",value:function(e,t,n){var o=this;if(this._currentMenu)return void this.closeCurrentMenu();var i=this.buildMenuList(t,n);this.positionMenuNearElement(i,e),this.showMenu(i),this._currentMenu=i,setTimeout(function(){return o.installClosingMenuClickHandler()},0)}},{key:"positionMenuNearElement",value:function(e,t){var n=t.getBoundingClientRect();e.style.left=n.left+"px",e.style.top=n.bottom+"px",e.style.position="fixed"}},{key:"showMenu",value:function(e){this._dropDownItem.appendChild(e),this._dropDownItem.classList.add("opened"),_("$")(e).jrMenuListShow()}},{key:"installClosingMenuClickHandler",value:function(){var e=this,t=function t(){document.removeEventListener("click",t),e.closeCurrentMenu()};document.addEventListener("click",t)}},{key:"closeCurrentMenu",value:function(){this._currentMenu&&this._currentMenu.parentElement&&(this._dropDownItem.classList.remove("opened"),_("$")(this._currentMenu).jrMenuListHide(),this._currentMenu.parentElement.removeChild(this._currentMenu),this._currentMenu=null)}},{key:"updateActionbarDefaultActionsDropdown",value:function(e,t){var n=this,o=window.checkActionRightsDetermineTypes(e,t),i=o.names.filter(function(e){return o.array[e]});this.updateDropDownVisibility(i.length),this._dropDownLink.onclick=function(){n.openMenu(n._dropDownLink,t,i)}}}]),t}(_("AbstractCommand"));t.default=_("ActionbarButtonActionsCommand");var g=Object.create(null),w="__INTENTIONAL_UNDEFINED__",j={};!function(){function e(e,t){Object.defineProperty(j,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}();var D="undefined"==typeof m?"undefined":f(m);"object"!==D&&"function"!==D||!Object.isExtensible(m)||(l("__get__",_),l("__GetDependency__",_),l("__Rewire__",u),l("__set__",u),l("__reset__",s),l("__ResetDependency__",s),l("__with__",d),l("__RewireAPI__",j)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=j},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){if(void 0===g||void 0===g[e])return c(e);var t=g[e];return t===w?void 0:t}function c(e){switch(e){case"$":return v.default;case"AbstractCommand":return b.default;case"OpenHyperlinkCommand":return m}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":f(e))?(void 0===t?g[e]=w:g[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){g[t]=e[t]})}function s(e){delete g[e]}function d(e){function t(){n.forEach(function(e){g[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=g[t],g[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function l(e,t){Object.defineProperty(m,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=n(3),v=o(y),h=n(36),b=o(h),m=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),p(t,[{key:"initialize",value:function(){var e=this;this._adjustFrameHeight(),window.addEventListener("resize",function(){return e._adjustFrameHeight()})}},{key:"_adjustFrameHeight",value:function(){window.correctHeightByElements(_("$")("iframe.jr-custom-hyperlink"),["#jr-actionbar","#jr-headline","#jr-header","#jr-footer"],0)}}],[{key:"ShouldBeInitializedAtStart",value:function(){return document.body.classList.contains("cmd-openhyperlink")}}]),t}(_("AbstractCommand"));t.default=_("OpenHyperlinkCommand");var g=Object.create(null),w="__INTENTIONAL_UNDEFINED__",j={};!function(){function e(e,t){Object.defineProperty(j,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}();var D="undefined"==typeof m?"undefined":f(m);"object"!==D&&"function"!==D||!Object.isExtensible(m)||(l("__get__",_),l("__GetDependency__",_),l("__Rewire__",u),l("__set__",u),l("__reset__",s),l("__ResetDependency__",s),l("__with__",d),l("__RewireAPI__",j)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=j},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){if(void 0===g||void 0===g[e])return c(e);var t=g[e];return t===w?void 0:t}function c(e){switch(e){case"$":return v.default;case"AbstractCommand":return b.default;case"ProcessCommentsCommand":return m}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":f(e))?(void 0===t?g[e]=w:g[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){g[t]=e[t]})}function s(e){delete g[e]}function d(e){function t(){n.forEach(function(e){g[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=g[t],g[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function l(e,t){Object.defineProperty(m,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=n(3),v=o(y),h=n(36),b=o(h),m=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),p(t,[{key:"initialize",value:function(){var e=this,t=_("$")("#jr-actionbar-button-processcomments-link"),n=t.data("params");t.on("click",function(t){t.preventDefault(),e._showComments(n)}),"undefined"!=typeof window.$JRDESIGNER&&(window.$JRDESIGNER.designerPostComment=function(){return e._saveNewComment()})}},{key:"_showComments",value:function(e){var t=window.$JR,n=window.$JR_JS_CONSTANTS,o=window.LoadingLayer;_("$").ajax({url:"index.php?cmd=ProcessComments",method:"GET",data:e,beforeSend:function(){new o("",!0,!1).show()}}).done(function(e){new o(null,!1,!1).hide();var i=t.LAYERS.getGenericFormLayer();i.setHeading(n.CONST_PROCESS_COMMENTS),i.setContent(e),i.setButtons("genericFormLayerFormControls"),document.fire("GenericFormLayer:update"),i.show()}).always(function(){_("$")("#newComment").focus()})}},{key:"_saveNewComment",value:function(){var e=window.$JR,t=window.$JR_JS_CONSTANTS,n=e.LAYERS.getGenericFormLayer(),o=_("$")("#newComment").val(),i=o?"":t.CONST_ERROR_COMMENT_EMPTY,r=_("$")("#messageField");if(r.html(i),r.show(),""!==o){var a=_("$").extend({},_("$")("#jr-actionbar-button-processcomments-link").data("params"),{action:"save",text:o});_("$").ajax("index.php?cmd=ProcessComments",{method:"POST",data:a}).done(function(){_("$")("#jr-step-actionbar-state-comments").css("display","inline-block"),n.hide()})}}}],[{key:"ShouldBeInitializedAtStart",value:function(){return document.body.classList.contains("cmd-in-designer")}}]),t}(_("AbstractCommand"));t.default=_("ProcessCommentsCommand");var g=Object.create(null),w="__INTENTIONAL_UNDEFINED__",j={};!function(){function e(e,t){Object.defineProperty(j,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}();var D="undefined"==typeof m?"undefined":f(m);"object"!==D&&"function"!==D||!Object.isExtensible(m)||(l("__get__",_),l("__GetDependency__",_),l("__Rewire__",u),l("__set__",u),l("__reset__",s),l("__ResetDependency__",s),l("__with__",d),l("__RewireAPI__",j)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=j},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){if(void 0===g||void 0===g[e])return c(e);var t=g[e];return t===w?void 0:t}function c(e){switch(e){case"$":return v.default;case"AbstractCommand":return b.default;case"IncidentTrackingCommand":return m}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":f(e))?(void 0===t?g[e]=w:g[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){g[t]=e[t]})}function s(e){delete g[e]}function d(e){function t(){n.forEach(function(e){g[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=g[t],g[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function l(e,t){Object.defineProperty(m,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=n(3),v=o(y),h=n(36),b=o(h),m=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.lastParams={},e.layer=null,e}return a(t,e),p(t,null,[{key:"ShouldBeInitializedAtStart",value:function(){return!window.showIncidentTrackingLayer&&_("$").fn.dataTableExt}}]),p(t,[{key:"_extractDate",value:function(e){var t="<div>",n=e.indexOf(t)+t.length,o="</div>";return e.substring(n,e.indexOf(o,n))}},{key:"_compareDates",value:function(e,t,n){return e=window.$JR.UTILITY.getUnformattedDate(e,n),t=window.$JR.UTILITY.getUnformattedDate(t,n),e.indexOf("undefined")!==-1&&(e=""),t.indexOf("undefined")!==-1&&(t=""),e===t?0:e<t?-1:1}},{key:"_defineDateComparisonFunctions",value:function(e){var t=this;_("$").fn.dataTableExt.oSort["jr-date-"+e+"-asc"]=function(n,o){return t._compareDates(t._extractDate(n),t._extractDate(o),e)},_("$").fn.dataTableExt.oSort["jr-date-"+e+"-desc"]=function(n,o){return-1*t._compareDates(t._extractDate(n),t._extractDate(o),e)}}},{key:"_reloadIncidentTrackingLayer",value:function(){var e=this,t=this.layer.dialog().css("height");this.layer.dialog().css("height",this.layer.dialog().height()),this.layer.setContent('<div class="jr-spinner"></div>'),_("$").ajax(this.lastParams.url).always(function(n){e.layer.dialog().css("height",t),e.layer.setContent(n)})}},{key:"_showPopupInLayer",value:function(e,t,n){var o=this;t+="&layer=1",this.lastParams.name=e,this.lastParams.url=t,this.lastParams.options=n,n=n||{},window.$JR.UTILITY.layerHeading=n.title;var i=new window.LoadingLayer("",!0,!0);i.show(),_("$")(".mainBoxContent").css({overflow:"auto"}),_("$").ajax(t).done(function(e){var t=_("$").extend(n,{close:function(){o.layer.dialog("close").dialog("destroy").remove()},modal:!0,closeOnEscape:!1,minWidth:300,width:Math.min(.8*_("$")(window).innerWidth(),1024),minHeight:200,maxHeight:.9*_("$")(window).innerHeight(),buttons:[{text:window.$JR_JS_CONSTANTS.CONST_REFRESH,click:function(){return o._reloadIncidentTrackingLayer()}},{text:window.$JR_JS_CONSTANTS.CONST_CLOSE,click:function(){o.layer.dialog("close")}}]});o.layer=window.$JR.widget.dialog("showTracking",t),o.layer.setContent(e),o.layer.show()}).always(function(){i.hide()})}},{key:"initialize",value:function(){for(var e=this,t=1;t<=4;t++)this._defineDateComparisonFunctions(t);window.showIncidentTrackingLayer=function(t){e._showPopupInLayer("incidentTracking",t,{title:window.$JR_JS_CONSTANTS.CONST_PROCESS_DETAILS})},window.reloadIncidentTrackingLayer=function(){return e._reloadIncidentTrackingLayer()}}}]),t}(_("AbstractCommand"));t.default=_("IncidentTrackingCommand");var g=Object.create(null),w="__INTENTIONAL_UNDEFINED__",j={};!function(){function e(e,t){Object.defineProperty(j,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}();var D="undefined"==typeof m?"undefined":f(m);"object"!==D&&"function"!==D||!Object.isExtensible(m)||(l("__get__",_),l("__GetDependency__",_),l("__Rewire__",u),l("__set__",u),l("__reset__",s),l("__ResetDependency__",s),l("__with__",d),l("__RewireAPI__",j)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=j},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){if(void 0===g||void 0===g[e])return c(e);var t=g[e];return t===w?void 0:t}function c(e){switch(e){case"$":return v.default;case"AbstractCommand":return b.default;case"AboutCommand":return m}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":f(e))?(void 0===t?g[e]=w:g[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){g[t]=e[t]})}function s(e){delete g[e]}function d(e){function t(){n.forEach(function(e){g[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=g[t],g[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function l(e,t){Object.defineProperty(m,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=n(3),v=o(y),h=n(36),b=o(h),m=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),p(t,[{key:"_getContent",value:function(e){var t="";return _("$")(e.links).each(function(e,n){t+='<a href="'+n.url+'" target="_blank">'+(n.label||n.url)+"</a>&nbsp;&nbsp;"}),'\n<div class="jr-about-content">\n    <div class="jr-about-logo-wrapper">'+e.logo+"</div><br>\n    <span>"+e.version+"</span><br>\n    <span>"+e.license+"</span><br>\n    <span>"+e.user+'</span>\n</div>\n<div class="jr-about-bottom">\n    <span>'+e.copyright+"</span><br>\n    "+t+"\n</div>"}},{key:"_show",value:function(){var e=this,t=new window.LoadingLayer("",!0,!0);t.show(),_("$").getJSON("index.php?cmd=Ajax_About").always(function(){t.hide()}).done(function(t){if(!t.result)return void window.$JR.NOTIFICATION.show(jr_get_constant_value("CONST_AJAX_REQUEST_ERROR"),"error");var n=t.result,o=window.$JR.widget.dialog("showAbout",window.getDefaultPopupOptions());o.setTitle(n.title),o.setContent(e._getContent(n)),o.open()}).fail(function(){window.$JR.NOTIFICATION.show(jr_get_constant_value("CONST_AJAX_REQUEST_ERROR"),"error")})}},{key:"initialize",value:function(){var e=this;window.showAbout=function(){return e._show()}}}],[{key:"ShouldBeInitializedAtStart",value:function(){return!0}}]),t}(_("AbstractCommand"));t.default=_("AboutCommand");var g=Object.create(null),w="__INTENTIONAL_UNDEFINED__",j={};!function(){function e(e,t){Object.defineProperty(j,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}();var D="undefined"==typeof m?"undefined":f(m);"object"!==D&&"function"!==D||!Object.isExtensible(m)||(l("__get__",_),l("__GetDependency__",_),l("__Rewire__",u),l("__set__",u),l("__reset__",s),l("__ResetDependency__",s),l("__with__",d),l("__RewireAPI__",j)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=j},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){if(void 0===g||void 0===g[e])return c(e);var t=g[e];return t===w?void 0:t}function c(e){switch(e){case"$":return v.default;case"AbstractCommand":return b.default;case"DialogDesignerCommand":return m}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":f(e))?(void 0===t?g[e]=w:g[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){g[t]=e[t]})}function s(e){delete g[e]}function d(e){function t(){n.forEach(function(e){g[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=g[t],g[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function l(e,t){Object.defineProperty(m,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=n(3),v=o(y),h=n(36),b=o(h),m=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),p(t,[{key:"initialize",value:function(){var e=_("$")("#jr-status-dialogtype");e.length&&e.on("change",function(){var t=e.prop("checked")?"desktop":"mobile",n=e.data("dialog");location.href="designer.php?cmd=dialogs_DialogEditor&dialog="+n+"&dialogtype="+t})}}],[{key:"ShouldBeInitializedAtStart",value:function(){return document.body.classList.contains("cmd-dialogs-dialogeditor")}}]),t}(_("AbstractCommand"));t.default=_("DialogDesignerCommand");var g=Object.create(null),w="__INTENTIONAL_UNDEFINED__",j={};!function(){function e(e,t){Object.defineProperty(j,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}();var D="undefined"==typeof m?"undefined":f(m);"object"!==D&&"function"!==D||!Object.isExtensible(m)||(l("__get__",_),l("__GetDependency__",_),l("__Rewire__",u),l("__set__",u),l("__reset__",s),l("__ResetDependency__",s),l("__with__",d),l("__RewireAPI__",j)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=j},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){if(void 0===b||void 0===b[e])return c(e);var t=b[e];return t===m?void 0:t}function c(e){switch(e){case"AbstractCommand":return v.default;case"ImportLanguageCommand":return h}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":f(e))?(void 0===t?b[e]=m:b[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){b[t]=e[t]})}function s(e){delete b[e]}function d(e){function t(){n.forEach(function(e){b[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=b[t],b[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function l(e,t){Object.defineProperty(h,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=n(36),v=o(y),h=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._requestsStarted=0,e._loadingLayer=new window.LoadingLayer("",!0,!0),e}return a(t,e),p(t,null,[{key:"ShouldBeInitializedAtStart",value:function(){return document.body.classList.contains("cmd-admintools-configuration-languageimport")}}]),p(t,[{key:"requestStarted",value:function(){this._requestsStarted||this._loadingLayer.show(),this._requestsStarted++}},{key:"requestFinished",value:function(){this._requestsStarted--,this._requestsStarted||this._loadingLayer.hide()}},{key:"importLanguages",value:function(e){var t=this;e.each(function(e){var n=document.getElementById("id_"+e);n.checked&&!n.disabled&&new Ajax.Request("index.php",{method:"post",asynchronous:!0,parameters:{cmd:"Ajax",cmd_target:"importLanguage",language:e},onCreate:function(){return t.requestStarted()},onFailure:function(){return t.requestFinished()},onSuccess:function(e){var o={};try{o=e.responseText.evalJSON(!0)}catch(e){o.result=!1,o.message=e}o.result!==!0?window.$JR.NOTIFICATION.show(o.message,"error"):(n.checked=!0,n.disabled=!0),t.requestFinished()}})})}},{key:"initialize",value:function(){var e=this;window.importLanguages=function(t){return e.importLanguages(t);
}}}]),t}(_("AbstractCommand"));t.default=_("ImportLanguageCommand");var b=Object.create(null),m="__INTENTIONAL_UNDEFINED__",g={};!function(){function e(e,t){Object.defineProperty(g,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}();var w="undefined"==typeof h?"undefined":f(h);"object"!==w&&"function"!==w||!Object.isExtensible(h)||(l("__get__",_),l("__GetDependency__",_),l("__Rewire__",u),l("__set__",u),l("__reset__",s),l("__ResetDependency__",s),l("__with__",d),l("__RewireAPI__",g)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=g},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){if(void 0===g||void 0===g[e])return c(e);var t=g[e];return t===w?void 0:t}function c(e){switch(e){case"$":return v.default;case"AbstractCommand":return b.default;case"EditProcessCategoriesCommand":return m}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":f(e))?(void 0===t?g[e]=w:g[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){g[t]=e[t]})}function s(e){delete g[e]}function d(e){function t(){n.forEach(function(e){g[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=g[t],g[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function l(e,t){Object.defineProperty(m,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=n(3),v=o(y),h=n(36),b=o(h),m=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),p(t,[{key:"initialize",value:function(){var e=_("$")("#id_icon");e.on("change",function(){_("$")("#jr-process-categories-icon").removeClass().addClass("jr-icon-process-categories-"+e.val())})}}],[{key:"ShouldBeInitializedAtStart",value:function(){return document.body.classList.contains("cmd-admintools-processes-editprocesscategories")}}]),t}(_("AbstractCommand"));t.default=_("EditProcessCategoriesCommand");var g=Object.create(null),w="__INTENTIONAL_UNDEFINED__",j={};!function(){function e(e,t){Object.defineProperty(j,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}();var D="undefined"==typeof m?"undefined":f(m);"object"!==D&&"function"!==D||!Object.isExtensible(m)||(l("__get__",_),l("__GetDependency__",_),l("__Rewire__",u),l("__set__",u),l("__reset__",s),l("__ResetDependency__",s),l("__with__",d),l("__RewireAPI__",j)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=j},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){if(void 0===g||void 0===g[e])return c(e);var t=g[e];return t===w?void 0:t}function c(e){switch(e){case"$":return v.default;case"AbstractCommand":return b.default;case"EditInstanceCommand":return m}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":f(e))?(void 0===t?g[e]=w:g[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){g[t]=e[t]})}function s(e){delete g[e]}function d(e){function t(){n.forEach(function(e){g[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=g[t],g[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function l(e,t){Object.defineProperty(m,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=n(3),v=o(y),h=n(36),b=o(h),m=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),p(t,[{key:"_selectFileSystemAccessOption",value:function(){return 0==_("$")("#filesystemaccess_count").val()?void _("$")("#id_filesystemaccess_type_all").prop("checked",!0).change():void _("$")("#id_filesystemaccess_type_restrict").prop("checked",!0).change()}},{key:"_toggleDirectoriesTable",value:function(){var e=_("$")("#filesystemaccess");return _("$")("#id_filesystemaccess_type_all").prop("checked")?void e.hide():void e.show()}},{key:"_toggleApplicationsTable",value:function(){var e=_("$")("#applications");return _("$")("#id_applications_mode_all").prop("checked")?void e.hide():void e.show()}},{key:"_toggleDependentFieldsState",value:function(){var e=_("$")("#id_php_cli_user_username").val();""!==e&&(_("$")("#id_php_cli_user_password").addClass("required"),_("$")("#id_php_cli_user_domain").addClass("required")),""===e&&(_("$")("#id_php_cli_user_password").removeClass("required validation-failed"),_("$")("#id_php_cli_user_domain").removeClass("required validation-failed"));var t=_("$")("#id_app_user_username").val();""!==t&&(_("$")("#id_app_user_password").addClass("required"),_("$")("#id_app_user_domain").addClass("required")),""===t&&(_("$")("#id_app_user_password").removeClass("required validation-failed"),_("$")("#id_app_user_domain").removeClass("required validation-failed"))}},{key:"initialize",value:function(){var e=this;window.selectFileSystemAccessOption=function(){return e._selectFileSystemAccessOption()},window.toggleDirectoriesTable=function(){return e._toggleDirectoriesTable()},window.toggleApplicationsTable=function(){return e._toggleApplicationsTable()},window.toggleDependentFieldsState=function(){return e._toggleDependentFieldsState()},this._selectFileSystemAccessOption(),this._toggleDirectoriesTable(),this._toggleApplicationsTable()}}],[{key:"ShouldBeInitializedAtStart",value:function(){return document.body.classList.contains("cmd-admintools-configuration-editinstance")}}]),t}(_("AbstractCommand"));t.default=_("EditInstanceCommand");var g=Object.create(null),w="__INTENTIONAL_UNDEFINED__",j={};!function(){function e(e,t){Object.defineProperty(j,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}();var D="undefined"==typeof m?"undefined":f(m);"object"!==D&&"function"!==D||!Object.isExtensible(m)||(l("__get__",_),l("__GetDependency__",_),l("__Rewire__",u),l("__set__",u),l("__reset__",s),l("__ResetDependency__",s),l("__with__",d),l("__RewireAPI__",j)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=j},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){if(void 0===w||void 0===w[e])return c(e);var t=w[e];return t===j?void 0:t}function c(e){switch(e){case"$":return v.default;case"CSS_CLASS_FOR_EXPORT":return m;case"AbstractCommand":return b.default;case"DesignerMapCommand":return g}}function u(e,t){return"object"!==("undefined"==typeof e?"undefined":f(e))?(void 0===t?w[e]=j:w[e]=t,function(){s(e)}):void Object.keys(e).forEach(function(t){w[t]=e[t]})}function s(e){delete w[e]}function d(e){function t(){n.forEach(function(e){w[e]=o[e]})}var n=Object.keys(e),o={};return function(i){n.forEach(function(t){o[t]=w[t],w[t]=e[t]});var r=i();return r&&"function"==typeof r.then?r.then(t).catch(t):t(),r}}function l(e,t){Object.defineProperty(g,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=n(3),v=o(y),h=n(36),b=o(h),m="jr-designer-graphic-export",g=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._iFrame=document.getElementById("mapFrame");var n=_("$")(e._iFrame);return n.length?(e._buildFilename(n.data("params")),e):(window.$JR.NOTIFICATION.show(window.$JR_JS_CONSTANTS.CONST_ERROR_OCCURRED,"error"),r(e))}return a(t,e),p(t,null,[{key:"ShouldBeInitializedAtStart",value:function(){var e=document.body.classList;return e.contains("cmd-in-designer")&&e.contains("cmd-map")}}]),p(t,[{key:"_buildFilename",value:function(e){return e.hasOwnProperty("process")&&e.hasOwnProperty("version")?void(this._filename="graphic_"+e.process+"_"+e.version+".png"):void(this._filename="processgraphic.png")}},{key:"_getScrollOffset",value:function(e){return{x:e?_("$")(e).scrollLeft():0,y:e?_("$")(e).scrollTop():0}}},{key:"_setScrollOffset",value:function(e,t){e&&(_("$")(e).scrollLeft(t.x),_("$")(e).scrollTop(t.y))}},{key:"_exportProcessGraphic",value:function(){var e=this,t=this._iFrame.contentDocument||this._iFrame.contentWindow.document,n=t?t.body:null;if(null===n)return void console.error("could not find map or its content.");var o=new window.LoadingLayer("",!0,!0);o.show();var i=n.className,r=this._getScrollOffset(t),a=_("$")("html");this._setScrollOffset(t,{x:0,y:0}),a.addClass(_("CSS_CLASS_FOR_EXPORT")),n.className+=" "+_("CSS_CLASS_FOR_EXPORT"),window.html2canvas(n,{onrendered:function(c){c.toBlob(function(c){saveAs(c,e._filename),e._setScrollOffset(t,r),a.removeClass(_("CSS_CLASS_FOR_EXPORT")),n.className=i,o.hide()})}})}},{key:"initialize",value:function(){var e=this;window.exportProcessGraphic=function(){return e._exportProcessGraphic()}}}]),t}(_("AbstractCommand"));t.default=_("DesignerMapCommand");var w=Object.create(null),j="__INTENTIONAL_UNDEFINED__",D={};!function(){function e(e,t){Object.defineProperty(D,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",u),e("__set__",u),e("__reset__",s),e("__ResetDependency__",s),e("__with__",d)}();var O="undefined"==typeof g?"undefined":f(g);"object"!==O&&"function"!==O||!Object.isExtensible(g)||(l("__get__",_),l("__GetDependency__",_),l("__Rewire__",u),l("__set__",u),l("__reset__",s),l("__ResetDependency__",s),l("__with__",d),l("__RewireAPI__",D)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=u,t.__set__=u,t.__ResetDependency__=s,t.__RewireAPI__=D}]);